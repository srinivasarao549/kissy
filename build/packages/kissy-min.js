/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(a,s,t){var k={mix:function(h,d,u,w){if(!d||!h)return h;if(u===t)u=true;var m,e,r;if(w&&(r=w.length))for(m=0;m<r;m++){e=w[m];if(e in d)if(u||!(e in h))h[e]=d[e]}else for(e in d)if(u||!(e in h))h[e]=d[e];return h}},g=a&&a[s]||{},l=0;a=g.__HOST||(g.__HOST=a||{});s=a[s]=k.mix(g,k,false);s.mix(s,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var h={},d,u=arguments.length;for(d=0;d<u;d++)s.mix(h,arguments[d]);return h},augment:function(){var h=arguments,
d=h.length-2,u=h[0],w=h[d],m=h[d+1],e=1;if(!s.isArray(m)){w=m;m=t;d++}if(!s.isBoolean(w)){w=t;d++}for(;e<d;e++)s.mix(u.prototype,h[e].prototype||h[e],w,m);return u},extend:function(h,d,u,w){if(!d||!h)return h;var m=Object.create?function(p,o){return Object.create(p,{constructor:{value:o}})}:function(p,o){function f(){}f.prototype=p;var c=new f;c.constructor=o;return c},e=d.prototype,r;h.prototype=r=m(e,h);h.superclass=m(e,d);u&&s.mix(r,u);w&&s.mix(h,w);return h},__init:function(){this.Config=this.Config||
{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var h=arguments,d=h.length,u=null,w,m,e,r=h[d-1]===true&&d--;for(w=0;w<d;w++){e=(""+h[w]).split(".");u=r?a:this;for(m=a[e[0]]===u?1:0;m<e.length;++m)u=u[e[m]]=u[e[m]]||{}}return u},app:function(h,d){var u=s.isString(h),w=u?a[h]||{}:h,m=0,e=s.__APP_INIT_METHODS.length;for(s.mix(w,this,true,s.__APP_MEMBERS);m<e;m++)s[s.__APP_INIT_METHODS[m]].call(w);s.mix(w,s.isFunction(d)?d():d);u&&(a[h]=w);return w},log:function(h,d,u){if(s.Config.debug){if(u)h=
u+": "+h;if(a.console!==t&&console.log)console[d&&console[d]?d:"log"](h)}},error:function(h){if(s.Config.debug)throw h;},guid:function(h){return(h||"")+l++}});s.__init();return s})(this,"KISSY");
(function(a,s){var t=a.__HOST,k=Object.prototype.toString,g=Array.prototype.indexOf,l=Array.prototype.lastIndexOf,h=Array.prototype.filter,d=String.prototype.trim,u=/^\s+|\s+$/g,w={};a.mix(a,{type:function(m){return m==null?String(m):w[k.call(m)]||"object"},isNull:function(m){return m===null},isUndefined:function(m){return m===s},isEmptyObject:function(m){for(var e in m)return false;return true},isPlainObject:function(m){return m&&k.call(m)==="[object Object]"&&"isPrototypeOf"in m},clone:function(m){var e=
m,r,p;if(m&&((r=a.isArray(m))||a.isPlainObject(m))){e=r?[]:{};for(p in m)if(m.hasOwnProperty(p))e[p]=a.clone(m[p])}return e},trim:d?function(m){return m==s?"":d.call(m)}:function(m){return m==s?"":m.toString().replace(u,"")},substitute:function(m,e,r){if(!a.isString(m)||!a.isPlainObject(e))return m;return m.replace(r||/\\?\{([^{}]+)\}/g,function(p,o){if(p.charAt(0)==="\\")return p.slice(1);return e[o]!==s?e[o]:""})},each:function(m,e,r){var p,o=0,f=m.length,c=f===s||a.type(m)==="function";r=r||t;
if(c)for(p in m){if(e.call(r,m[p],p,m)===false)break}else for(p=m[0];o<f&&e.call(r,p,o,m)!==false;p=m[++o]);return m},indexOf:g?function(m,e){return g.call(e,m)}:function(m,e){for(var r=0,p=e.length;r<p;++r)if(e[r]===m)return r;return-1},lastIndexOf:l?function(m,e){return l.call(e,m)}:function(m,e){for(var r=e.length-1;r>=0;r--)if(e[r]===m)break;return r},unique:function(m,e){e&&m.reverse();for(var r=m.slice(),p=0,o,f;p<r.length;){for(f=r[p];(o=a.lastIndexOf(f,r))!==p;)r.splice(o,1);p+=1}e&&r.reverse();
return r},inArray:function(m,e){return a.indexOf(m,e)>-1},filter:h?function(m,e,r){return h.call(m,e,r)}:function(m,e,r){var p=[];a.each(m,function(o,f,c){e.call(r,o,f,c)&&p.push(o)});return p},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(m,e){w["[object "+m+"]"]=e=m.toLowerCase();a["is"+m]=function(r){return a.type(r)==e}})})(KISSY);
(function(a,s){function t(f){var c=typeof f;return f===null||c!=="object"&&c!=="function"}function k(f){return Array.prototype.slice.call(f)}var g=a.__HOST,l=g.document,h=l.documentElement,d=encodeURIComponent("[]"),u=false,w=[],m=false,e=/^#?([\w-]+)$/,r=/^(\w+)\[\]$/,p=/\S/;a.mix(a,{isWindow:function(f){return a.type(f)==="object"&&"setInterval"in f},makeArray:function(f){if(f===null||f===s)return[];if(a.isArray(f))return f;if(typeof f.length!=="number"||a.isString(f)||a.isFunction(f))return[f];
return k(f)},param:function(f,c){if(!a.isPlainObject(f))return"";c=c||"&";var b=[],j,i;for(j in f){i=f[j];j=encodeURIComponent(j);if(t(i))b.push(j,"=",encodeURIComponent(i+""),c);else if(a.isArray(i)&&i.length)for(var n=0,v=i.length;n<v;++n)t(i[n])&&b.push(j,d+"=",encodeURIComponent(i[n]+""),c)}b.pop();return b.join("")},unparam:function(f,c){if(typeof f!=="string"||(f=a.trim(f)).length===0)return{};for(var b={},j=f.split(c||"&"),i,n,v,y,q=0,x=j.length;q<x;++q){i=j[q].split("=");n=decodeURIComponent(i[0]);
try{v=decodeURIComponent(i[1]||"")}catch(z){v=i[1]||""}if((y=n.match(r))&&y[1]){b[y[1]]=b[y[1]]||[];b[y[1]].push(v)}else b[n]=v}return b},globalEval:function(f){if(f&&p.test(f)){var c=l.getElementsByTagName("head")[0]||h,b=l.createElement("script");b.text=f;c.insertBefore(b,c.firstChild);c.removeChild(b)}},later:function(f,c,b,j,i){c=c||0;j=j||{};var n=f,v=a.makeArray(i),y;if(a.isString(f))n=j[f];n||a.error("method undefined");f=function(){n.apply(j,v)};y=b?setInterval(f,c):setTimeout(f,c);return{id:y,
interval:b,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},ready:function(f){m||this._bindReady();u?f.call(g,this):w.push(f);return this},_bindReady:function(){var f=this,c=l.documentElement.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",j=function(){f._fireReady()};m=true;if(l.readyState==="complete")return j();if(l.addEventListener){var i=function(){l.removeEventListener(b,i,false);j()};l.addEventListener(b,i,false);g.addEventListener("load",j,false)}else{var n=function(){if(l.readyState===
"complete"){l.detachEvent(b,n);j()}};l.attachEvent(b,n);g.attachEvent("onload",j);var v=false;try{v=g.frameElement==null}catch(y){}if(c&&v){var q=function(){try{c("left");j()}catch(x){setTimeout(q,1)}};q()}}},_fireReady:function(){if(!u){u=true;if(w){for(var f,c=0;f=w[c++];)f.call(g,this);w=null}}},available:function(f,c){if((f=(f+"").match(e)[1])&&a.isFunction(c))var b=1,j=a.later(function(){if(l.getElementById(f)&&(c()||1)||++b>500)j.cancel()},40,true)}});try{k(h.childNodes)}catch(o){k=function(f){for(var c=
[],b=f.length-1;b>=0;b--)c[b]=f[b];return c}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,s){var t=a.__HOST.document,k=t.getElementsByTagName("head")[0]||t.documentElement,g=2,l=3,h=4,d=a.mix,u=t.createElement("script").readyState?function(e,r){var p=e.onreadystatechange;e.onreadystatechange=function(){var o=e.readyState;if(o==="loaded"||o==="complete"){e.onreadystatechange=null;p&&p();r.call(this)}}}:function(e,r){e.addEventListener("load",r,false)},w=/\.css(?:\?|$)/i,m;m={add:function(e,r,p){var o=this.Env.mods,f;if(a.isString(e)&&!p&&a.isPlainObject(r)){f={};f[e]=r;e=f}if(a.isPlainObject(e)){a.each(e,
function(c,b){c.name=b;o[b]&&d(c,o[b],false)});d(o,e)}else{p=p||{};f=o[e]||{};e=p.host||f.host||e;f=o[e]||{};d(f,{name:e,status:g});if(!f.fns)f.fns=[];r&&f.fns.push(r);r=f.requires;d(o[e]=f,p);o[e].requires=r;f.attach!==false&&this.__isAttached(f.requires)&&this.__attachMod(f)}return this},use:function(e,r,p){e=e.replace(/\s+/g,"").split(",");p=p||{};var o=this,f=o.Env.mods,c=(p||0).global,b,j=e.length,i,n,v;c&&o.__mixMods(c);if(o.__isAttached(e))r&&r(o);else{for(b=0;b<j&&(i=f[e[b]]);b++)if(i.status!==
h){if(p.order&&b>0){if(!i.requires)i.requires=[];i._requires=i.requires.concat();n=e[b-1];if(!a.inArray(n,i.requires)&&!a.inArray(i.name,f[n].requires||[]))i.requires.push(n)}o.__attach(i,function(){if(i._requires){i.requires=i._requires;delete i._requires}if(!v&&o.__isAttached(e)){v=true;r&&r(o)}},c)}return o}},__attach:function(e,r,p){function o(){if(f.__isAttached(e.requires||[])){e.status===g&&f.__attachMod(e);e.status===h&&r()}}for(var f=this,c=e.requires||[],b=0,j=c.length;b<j;b++)f.__attach(f.Env.mods[c[b]],
o,p);f.__buildPath(e);f.__load(e,o,p)},__mixMods:function(e){var r=this.Env.mods,p=e.Env.mods,o;for(o in p)this.__mixMod(r,p,o,e)},__mixMod:function(e,r,p,o){var f=e[p]||{},c=f.status;a.mix(f,a.clone(r[p]));if(c)f.status=c;o&&this.__buildPath(f,o.Config.base);e[p]=f},__attachMod:function(e){var r=this;if(e.fns){a.each(e.fns,function(p){p&&p(r)});e.fns=s}e.status=h},__isAttached:function(e){for(var r=this.Env.mods,p,o=(e=a.makeArray(e)).length-1;o>=0&&(p=r[e[o]]);o--)if(p.status!==h)return false;return true},
__load:function(e,r,p){function o(){b[c]=g;if(e.status!==l){p&&f.__mixMod(f.Env.mods,p.Env.mods,e.name,p);if(e.status!==h)e.status=g;r()}}var f=this,c=e.fullpath,b=a.Env._loadQueue,j=b[c];e.status=e.status||0;if(e.status<1&&j)e.status=j.nodeName?1:g;if(a.isString(e.cssfullpath)){f.getScript(e.cssfullpath);e.cssfullpath=g}if(e.status<1&&c){e.status=1;j=f.getScript(c,{success:function(){KISSY.log(e.name+" is loaded.","info");o()},error:function(){e.status=l;b[c]=g},charset:e.charset});w.test(c)||(b[c]=
j)}else e.status===1?u(j,o):r()},__buildPath:function(e,r){function p(f,c){if(!e[c]&&e[f])e[c]=(r||o.base)+e[f];if(e[c]&&o.debug)e[c]=e[c].replace(/-min/g,"")}var o=this.Config;p("path","fullpath");e.cssfullpath!==g&&p("csspath","cssfullpath")},getScript:function(e,r,p){var o=w.test(e),f=t.createElement(o?"link":"script"),c=r,b,j,i;if(a.isPlainObject(c)){r=c.success;b=c.error;j=c.timeout;p=c.charset}if(o){f.href=e;f.rel="stylesheet"}else{f.src=e;f.async=true}if(p)f.charset=p;if(o)a.isFunction(r)&&
r.call(f);else u(f,function(){if(i){i.cancel();i=s}a.isFunction(r)&&r.call(f);k&&f.parentNode&&k.removeChild(f)});if(a.isFunction(b))i=a.later(function(){i=s;b()},(j||this.Config.timeout)*1E3);k.insertBefore(f,k.firstChild);return f}};d(a,m);a.__initLoader=function(){var e=t.getElementsByTagName("script");e=e[e.length-1].src.replace(/^(.*)(seed|kissy).*$/i,"$1");this.Env.mods={};this.Env._loadQueue={};this.Config.base=e;this.Config.timeout=10};a.__initLoader();a.each(m,function(e,r){a.__APP_MEMBERS.push(r)});
a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);(function(a){var s={core:{path:"packages/core-min.js",charset:"utf-8"}};a.each(["sizzle","dd","datalazyload","flash","switchable","suggest","calendar","uibase","overlay","imagezoom"],function(t){s[t]={path:t+"/"+t+"-pkg-min.js",requires:["core"],charset:"utf-8"}});s.calendar.csspath="calendar/default-min.css";s.overlay.requires=["uibase"];a.add(s)})(KISSY);
KISSY.add("ua",function(a){var s=navigator.userAgent,t="",k="",g,l={},h=function(d){var u=0;return parseFloat(d.replace(/\./g,function(){return u++===0?".":""}))};if((g=s.match(/AppleWebKit\/([\d.]*)/))&&g[1]){l[t="webkit"]=h(g[1]);if((g=s.match(/Chrome\/([\d.]*)/))&&g[1])l[k="chrome"]=h(g[1]);else if((g=s.match(/\/([\d.]*) Safari/))&&g[1])l[k="safari"]=h(g[1]);if(/ Mobile\//.test(s))l.mobile="apple";else if(g=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=g[0].toLowerCase()}else if((g=
s.match(/Presto\/([\d.]*)/))&&g[1]){l[t="presto"]=h(g[1]);if((g=s.match(/Opera\/([\d.]*)/))&&g[1]){l[k="opera"]=h(g[1]);if((g=s.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])l[k]=h(g[1]);if((g=s.match(/Opera Mini[^;]*/))&&g)l.mobile=g[0].toLowerCase();else if((g=s.match(/Opera Mobi[^;]*/))&&g)l.mobile=g[0]}}else if((g=s.match(/MSIE\s([^;]*)/))&&g[1]){l[t="trident"]=0.1;l[k="ie"]=h(g[1]);if((g=s.match(/Trident\/([\d.]*)/))&&g[1])l[t]=h(g[1])}else if(g=s.match(/Gecko/)){l[t="gecko"]=0.1;if((g=s.match(/rv:([\d.]*)/))&&
g[1])l[t]=h(g[1]);if((g=s.match(/Firefox\/([\d.]*)/))&&g[1])l[k="firefox"]=h(g[1])}l.core=t;l.shell=k;l._numberify=h;a.UA=l});
KISSY.add("ua-extra",function(a){var s=a.UA,t=navigator.userAgent,k,g,l={},h=s._numberify;if(t.match(/360SE/))l[g="se360"]=3;else if(t.match(/Maxthon/)&&(k=window.external)){g="maxthon";try{l[g]=h(k.max_version)}catch(d){l[g]=0.1}}else if(k=t.match(/TencentTraveler\s([\d.]*)/))l[g="tt"]=k[1]?h(k[1]):0.1;else if(t.match(/TheWorld/))l[g="theworld"]=3;else if(k=t.match(/SE\s([\d.]*)/))l[g="sougou"]=k[1]?h(k[1]):0.1;g&&(l.shell=g);a.mix(s,l)});
KISSY.add("dom",function(a,s){function t(k,g){return k&&k.nodeType===g}a.DOM={_isElementNode:function(k){return t(k,1)},_isKSNode:function(k){return a.Node&&t(k,a.Node.TYPE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:t(k,9)?k.defaultView||k.parentWindow:k===s?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(a,s){function t(c,b){var j,i,n=[],v;b=k(b);if(a.isString(c)){c=a.trim(c);if(o.test(c)){if(i=g(c.slice(1),b))n=[i]}else if(j=f.exec(c)){i=j[1];v=j[2];j=j[3];if(b=i?g(i,b):b)if(j)if(!i||c.indexOf(m)!==-1)n=h(j,v,b);else{if((i=g(i,b))&&w.hasClass(i,j))n=[i]}else if(v)n=l(v,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else d(c)}else if(c&&(c[r]||c[p]))n=c[r]?[c[r]()]:c[p]();else if(c&&(a.isArray(c)||c&&!c.nodeType&&c.item&&c!=window))n=c;else if(c)n=[c];if(n&&
!n.nodeType&&n.item&&n!=window)n=a.makeArray(n);n.each=function(y,q){return a.each(n,y,q)};return n}function k(c){if(c===s)c=u;else if(a.isString(c)&&o.test(c))c=g(c.slice(1),u);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function g(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function l(c,b){return b.getElementsByTagName(c)}function h(c,b,j){j=c=j.getElementsByClassName(c);var i=0,n=0,v=c.length,y;if(b&&b!==e){j=[];for(b=b.toUpperCase();i<v;++i){y=c[i];if(y.tagName===
b)j[n++]=y}}return j}function d(c){a.error("Unsupported selector: "+c)}var u=document,w=a.DOM,m=" ",e="*",r="getDOMNode",p=r+"s",o=/^#[\w-]+$/,f=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=u.createElement("div");c.appendChild(u.createComment(""));if(c.getElementsByTagName(e).length>0)l=function(b,j){var i=j.getElementsByTagName(b);if(b===e){for(var n=[],v=0,y=0,q;q=i[v++];)if(q.nodeType===1)n[y++]=q;i=n}return i}})();u.getElementsByClassName||(h=u.querySelectorAll?function(c,b,
j){return j.querySelectorAll((b?b:"")+"."+c)}:function(c,b,j){b=j.getElementsByTagName(b||e);j=[];var i=0,n=0,v=b.length,y,q;for(c=m+c+m;i<v;++i){y=b[i];if((q=y.className)&&(m+q+m).indexOf(c)>-1)j[n++]=y}return j});a.query=t;a.get=function(c,b){return t(c,b)[0]||null};a.mix(w,{query:t,get:a.get,filter:function(c,b){var j=t(c),i,n,v,y=[];if(a.isString(b)&&(i=f.exec(b))&&!i[1]){n=i[2];v=i[3];b=function(q){return!(n&&q.tagName!==n.toUpperCase()||v&&!w.hasClass(q,v))}}if(a.isFunction(b))y=a.filter(j,
b);else if(b&&a.ExternalSelector)y=a.ExternalSelector._filter(c,b+"");else d(b);return y},test:function(c,b){var j=t(c);return j.length&&w.filter(j,b).length===j.length}})});
KISSY.add("dom-data",function(a,s){var t=window,k=a.DOM,g="_ks_data_"+a.now(),l={},h={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(k,{data:function(u,w,m){if(a.isPlainObject(w))for(var e in w)k.data(u,e,w[e]);else if(m===s){u=a.get(u);var r;if(!(!u||d[u.nodeName])){if(u==t)u=h;r=(e=u&&u.nodeType)?l:u;u=r[e?u[g]:g];if(a.isString(w)&&u)return u[w];return u}}else a.query(u).each(function(p){if(!(!p||d[p.nodeName])){if(p==t)p=h;var o=l,f;if(p&&p.nodeType){if(!(f=p[g]))f=p[g]=a.guid()}else{f=g;o=p}if(w&&m!==
s){o[f]||(o[f]={});o[f][w]=m}}})},removeData:function(u,w){a.query(u).each(function(m){if(m){if(m==t)m=h;var e,r=l,p,o=m&&m.nodeType;if(o)e=m[g];else{r=m;e=g}if(e){p=r[e];if(w){if(p){delete p[w];a.isEmptyObject(p)&&k.removeData(m)}}else{if(o)m.removeAttribute&&m.removeAttribute(g);else try{delete m[g]}catch(f){}o&&delete r[e]}}}})}})});
KISSY.add("dom-class",function(a,s){function t(h,d,u,w){if(!(d=a.trim(d)))return w?false:s;h=a.query(h);var m=0,e=h.length;d=d.split(g);for(var r;m<e;m++){r=h[m];if(k._isElementNode(r)){r=u(r,d,d.length);if(r!==s)return r}}if(w)return false}var k=a.DOM,g=/[\.\s]\s*\.?/,l=/[\n\t]/g;a.mix(k,{hasClass:function(h,d){return t(h,d,function(u,w,m){if(u=u.className){u=" "+u+" ";for(var e=0,r=true;e<m;e++)if(u.indexOf(" "+w[e]+" ")<0){r=false;break}if(r)return true}},true)},addClass:function(h,d){t(h,d,function(u,
w,m){var e=u.className;if(e){var r=" "+e+" ";e=e;for(var p=0;p<m;p++)if(r.indexOf(" "+w[p]+" ")<0)e+=" "+w[p];u.className=a.trim(e)}else u.className=d})},removeClass:function(h,d){t(h,d,function(u,w,m){var e=u.className;if(e)if(m){e=(" "+e+" ").replace(l," ");for(var r=0,p;r<m;r++)for(p=" "+w[r]+" ";e.indexOf(p)>=0;)e=e.replace(p," ");u.className=a.trim(e)}else u.className=""})},replaceClass:function(h,d,u){k.removeClass(h,d);k.addClass(h,u)},toggleClass:function(h,d,u){var w=a.isBoolean(u),m;t(h,
d,function(e,r,p){for(var o=0,f;o<p;o++){f=r[o];m=w?!u:k.hasClass(e,f);k[m?"removeClass":"addClass"](e,f)}})}})});
KISSY.add("dom-attr",function(a,s){var t=a.UA,k=document.documentElement,g=!k.hasAttribute,l=k.textContent!==s?"textContent":"innerText",h=a.DOM,d=h._isElementNode,u=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,m=/\r/g,e=/^(?:radio|checkbox)/,r={readonly:"readOnly"},p={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};g&&a.mix(r,{"for":"htmlFor","class":"className"});a.mix(h,{attr:function(o,f,c,b){if(a.isPlainObject(f)){b=c;for(var j in f)h.attr(o,j,f[j],b)}else if(f=a.trim(f)){f=
f.toLowerCase();if(b&&p[f])return h[f](o,c);f=r[f]||f;if(c===s){o=a.get(o);if(!d(o))return s;var i;u.test(f)||(i=o[f]);if(i===s)i=o.getAttribute(f);if(g)if(w.test(f))i=o.getAttribute(f,2);else if(f==="style")i=o.style.cssText;return i===null?s:i}a.each(a.query(o),function(n){if(d(n))if(f==="style")n.style.cssText=c;else{if(f==="checked")n[f]=!!c;n.setAttribute(f,""+c)}})}},removeAttr:function(o,f){a.each(a.query(o),function(c){if(d(c)){h.attr(c,f,"");c.removeAttribute(f)}})},val:function(o,f){if(f===
s){var c=a.get(o);if(!d(c))return s;if(c&&c.nodeName.toUpperCase()==="option".toUpperCase())return(c.attributes.value||{}).specified?c.value:c.text;if(c&&c.nodeName.toUpperCase()==="select".toUpperCase()){var b=c.selectedIndex,j=c.options;if(b<0)return null;else if(c.type==="select-one")return h.val(j[b]);c=[];for(var i=0,n=j.length;i<n;++i)j[i].selected&&c.push(h.val(j[i]));return c}if(t.webkit&&e.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(m,"")}a.each(a.query(o),
function(v){if(v&&v.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(f))f+="";var y=a.makeArray(f),q=v.options,x;i=0;for(n=q.length;i<n;++i){x=q[i];x.selected=a.inArray(h.val(x),y)}if(!y.length)v.selectedIndex=-1}else if(d(v))v.value=f})},text:function(o,f){if(f===s){var c=a.get(o);if(d(c))return c[l]||"";else if(h._nodeTypeIs(c,3))return c.nodeValue}else a.each(a.query(o),function(b){if(d(b))b[l]=f;else if(h._nodeTypeIs(b,3))b.nodeValue=f})}})});
KISSY.add("dom-style",function(a,s){function t(b,j){var i=a.get(b),n=j===u?i.offsetWidth:i.offsetHeight;a.each(j===u?["Left","Right"]:["Top","Bottom"],function(v){n-=parseFloat(g._getComputedStyle(i,"padding"+v))||0;n-=parseFloat(g._getComputedStyle(i,"border"+v+"Width"))||0});return n}function k(b,j,i){var n=i;if(i===w&&e.test(j)){n=0;if(a.inArray(g.css(b,"position"),["absolute","fixed"])){i=b[j==="left"?"offsetLeft":"offsetTop"];if(l.ie===8||l.opera)i-=m(g.css(b.offsetParent,"border-"+j+"-width"))||
0;n=i-(m(g.css(b,"margin-"+j))||0)}}return n}var g=a.DOM,l=a.UA,h=document,d=h.documentElement,u="width",w="auto",m=parseInt,e=/^(?:left|top)/,r=/^(?:width|height|top|left|right|bottom|margin|padding)/i,p=/-([a-z])/ig,o=function(b,j){return j.toUpperCase()},f={},c={};a.mix(g,{_CUSTOM_STYLES:f,_getComputedStyle:function(b,j){var i="",n=b.ownerDocument;if(b.style)i=n.defaultView.getComputedStyle(b,null)[j];return i},css:function(b,j,i){if(a.isPlainObject(j))for(var n in j)g.css(b,n,j[n]);else{if(j.indexOf("-")>
0)j=j.replace(p,o);j=f[j]||j;if(i===s){b=a.get(b);n="";if(b&&b.style){n=j.get?j.get(b):b.style[j];if(n===""&&!j.get)n=k(b,j,g._getComputedStyle(b,j))}return n===s?"":n}else{if(i===null||i==="")i="";else if(!isNaN(new Number(i))&&r.test(j))i+="px";(j===u||j==="height")&&parseFloat(i)<0||a.each(a.query(b),function(v){if(v&&v.style){j.set?j.set(v,i):v.style[j]=i;if(i==="")v.style.cssText||v.removeAttribute("style")}})}}},width:function(b,j){if(j===s)return t(b,u);else g.css(b,u,j)},height:function(b,
j){if(j===s)return t(b,"height");else g.css(b,"height",j)},show:function(b){a.query(b).each(function(j){if(j){j.style.display=g.data(j,"display")||"";if(g.css(j,"display")==="none"){var i=j.tagName,n=c[i],v;if(!n){v=h.createElement(i);h.body.appendChild(v);n=g.css(v,"display");g.remove(v);c[i]=n}g.data(j,"display",n);j.style.display=n}}})},hide:function(b){a.query(b).each(function(j){if(j){var i=j.style,n=i.display;if(n!=="none"){n&&g.data(j,"display",n);i.display="none"}}})},toggle:function(b){a.query(b).each(function(j){if(j)j.style.display===
"none"?g.show(j):g.hide(j)})},addStyleSheet:function(b,j){var i;if(j&&(j=j.replace("#","")))i=a.get("#"+j);if(!i){i=g.create("<style>",{id:j});a.get("head").appendChild(i);if(i.styleSheet)i.styleSheet.cssText=b;else i.appendChild(h.createTextNode(b))}}});if(d.style.cssFloat!==s)f["float"]="cssFloat";else if(d.style.styleFloat!==s)f["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,s){if(a.UA.ie){var t=a.DOM,k=document,g=k.documentElement,l=t._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,d=/^-?\d/,u=/^(?:width|height)$/;try{if(g.style.opacity===s&&g.filters)l.opacity={get:function(m){var e=100;try{e=m.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{e=m.filters("alpha").opacity}catch(p){}}return e/100+""},set:function(m,e){var r=m.style,p=(m.currentStyle||0).filter||"";r.zoom=1;if(p)if(p=p.replace(/alpha\(opacity=.+\)/ig,""))p+=", ";
r.filter=p+"alpha(opacity="+e*100+")"}}}catch(w){}if(!(k.defaultView||{}).getComputedStyle&&g.currentStyle)t._getComputedStyle=function(m,e){var r=m.style,p=m.currentStyle[e];if(u.test(e))p=t[e](m)+"px";else if(!h.test(p)&&d.test(p)){var o=r.left,f=m.runtimeStyle.left;m.runtimeStyle.left=m.currentStyle.left;r.left=e==="fontSize"?"1em":p||0;p=r.pixelLeft+"px";r.left=o;m.runtimeStyle.left=f}return p}}});
KISSY.add("dom-offset",function(a,s){function t(i){var n=0,v=0,y=w(i[p]);if(i[j]){i=i[j]();n=i[o];v=i[f];if(g.mobile!=="apple"){n+=k[c](y);v+=k[b](y)}}return{left:n,top:v}}var k=a.DOM,g=a.UA,l=window,h=document,d=k._isElementNode,u=k._nodeTypeIs,w=k._getWin,m=h.compatMode==="CSS1Compat",e=Math.max,r=parseInt,p="ownerDocument",o="left",f="top",c="scrollLeft",b="scrollTop",j="getBoundingClientRect";a.mix(k,{offset:function(i,n){if(!(i=a.get(i))||!i[p])return null;if(n===s)return t(i);var v=i;if(k.css(v,
"position")==="static")v.style.position="relative";var y=t(v),q={},x,z;for(z in n){x=r(k.css(v,z),10)||0;q[z]=x+n[z]-y[z]}k.css(v,q)},scrollIntoView:function(i,n,v,y){if((i=a.get(i))&&i[p]){y=y===s?true:!!y;v=v===s?true:!!v;if(!n||n===l)return i.scrollIntoView(v);n=a.get(n);if(u(n,9))n=w(n);var q=n&&"scrollTo"in n&&n.document,x=k.offset(i),z=q?{left:k.scrollLeft(n),top:k.scrollTop(n)}:k.offset(n),A={left:x[o]-z[o],top:x[f]-z[f]};x=q?k.viewportHeight(n):n.clientHeight;z=q?k.viewportWidth(n):n.clientWidth;
var C=k[c](n),E=k[b](n),D=C+z,B=E+x,K=i.offsetHeight;i=i.offsetWidth;var J=A.left+C-(r(k.css(n,"borderLeftWidth"))||0);A=A.top+E-(r(k.css(n,"borderTopWidth"))||0);var G=J+i,F=A+K,H,I;if(K>x||A<E||v)H=A;else if(F>B)H=F-x;if(y)if(i>z||J<C||v)I=J;else if(G>D)I=G-z;if(q){if(H!==s||I!==s)n.scrollTo(I,H)}else{if(H!==s)n[b]=H;if(I!==s)n[c]=I}}}});a.each(["Left","Top"],function(i,n){var v="scroll"+i;k[v]=function(y){var q=0,x=w(y),z;if(x&&(z=x.document))q=x[n?"pageYOffset":"pageXOffset"]||z.documentElement[v]||
z.body[v];else if(d(y=a.get(y)))q=y[v];return q}});a.each(["Width","Height"],function(i){k["doc"+i]=function(n){n=n||h;return e(m?n.documentElement["scroll"+i]:n.body["scroll"+i],k["viewport"+i](n))};k["viewport"+i]=function(n){var v="inner"+i;n=w(n);var y=n.document;return v in n?n[v]:m?y.documentElement["client"+i]:y.body["client"+i]}})});
KISSY.add("dom-traversal",function(a,s){function t(h,d,u,w){if(!(h=a.get(h)))return null;if(d===s)d=1;var m=null,e,r;if(a.isNumber(d)&&d>=0){if(d===0)return h;e=0;r=d;d=function(){return++e===r}}for(;h=h[u];)if(l(h)&&(!d||g.test(h,d))&&(!w||w(h))){m=h;break}return m}function k(h,d,u){var w=[];var m=h=a.get(h);if(h&&u)m=h.parentNode;if(m){u=0;for(m=m.firstChild;m;m=m.nextSibling)if(l(m)&&m!==h&&(!d||g.test(m,d)))w[u++]=m}return w}var g=a.DOM,l=g._isElementNode;a.mix(g,{parent:function(h,d){return t(h,
d,"parentNode",function(u){return u.nodeType!=11})},next:function(h,d){return t(h,d,"nextSibling")},prev:function(h,d){return t(h,d,"previousSibling")},siblings:function(h,d){return k(h,d,true)},children:function(h,d){return k(h,d)},contains:function(h,d){var u=false;if((h=a.get(h))&&(d=a.get(d)))if(h.contains){if(d.nodeType===3){d=d.parentNode;if(d===h)return true}if(d)return h.contains(d)}else if(h.compareDocumentPosition)return!!(h.compareDocumentPosition(d)&16);else for(;!u&&(d=d.parentNode);)u=
d==h;return u}})});
KISSY.add("dom-create",function(a,s){function t(q){var x=q.cloneNode(true);if(d.ie<8)x.innerHTML=q.innerHTML;return x}function k(q,x,z,A){if(z){var C=a.guid("ks-tmp-"),E=RegExp(o);x+='<span id="'+C+'"></span>';a.available(C,function(){var D=a.get("head"),B,K,J,G,F,H;for(E.lastIndex=0;B=E.exec(x);)if((J=(K=B[1])?K.match(c):false)&&J[2]){B=l.createElement("script");B.src=J[2];if((G=K.match(b))&&G[2])B.charset=G[2];B.async=true;D.appendChild(B)}else if((H=B[2])&&H.length>0)a.globalEval(H);(F=l.getElementById(C))&&
h.remove(F);a.isFunction(A)&&A()});g(q,x)}else{g(q,x);a.isFunction(A)&&A()}}function g(q,x){x=(x+"").replace(o,"");try{q.innerHTML=x}catch(z){for(;q.firstChild;)q.removeChild(q.firstChild);x&&q.appendChild(h.create(x))}}var l=document,h=a.DOM,d=a.UA,u=d.ie,w=h._nodeTypeIs,m=h._isElementNode,e=h._isKSNode,r=l.createElement("div"),p=/<(\w+)/,o=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(h,{create:function(q,
x,z){if(w(q,1)||w(q,3))return t(q);if(e(q))return t(q[0]);if(!(q=a.trim(q)))return null;var A=null;A=h._creators;var C,E="div",D;if(C=f.exec(q))A=(z||l).createElement(C[1]);else{if((C=p.exec(q))&&(D=C[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;q=A[E](q,z).childNodes;if(q.length===1)z=q[0].parentNode.removeChild(q[0]);else{q=q;D=z||l;z=null;if(q&&(q.push||q.item)&&q[0]){D=D||q[0].ownerDocument;z=D.createDocumentFragment();if(q.item)q=a.makeArray(q);D=0;for(A=q.length;D<A;D++)z.appendChild(q[D])}z=
z}A=z}z=A;m(z)&&a.isPlainObject(x)&&h.attr(z,x,true);return z},_creators:{div:function(q,x){var z=x?x.createElement("div"):r;z.innerHTML=q;return z}},html:function(q,x,z,A){if(x===s){q=a.get(q);if(m(q))return q.innerHTML}else a.each(a.query(q),function(C){m(C)&&k(C,x,z,A)})},remove:function(q){a.each(a.query(q),function(x){m(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(u||d.gecko||d.webkit){var j=h._creators,i=h.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,v={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in v)(function(q){j[y]=function(x,z){return i("<"+q+">"+x+"</"+q+">",null,z)}})(v[y]);if(u){j.script=function(q,x){var z=x?x.createElement("div"):r;z.innerHTML="-"+q;z.removeChild(z.firstChild);return z};if(u<8)j.tbody=function(q,x){var z=i("<table>"+q+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!n.test(q)&&A.parentNode.removeChild(A);return z}}a.mix(j,{optgroup:j.option,th:j.td,thead:j.tbody,tfoot:j.tbody,
caption:j.tbody,colgroup:j.tbody})}});
KISSY.add("dom-insertion",function(a){var s=a.DOM;a.mix(s,{insertBefore:function(t,k){if((t=a.get(t))&&(k=a.get(k))&&k.parentNode)k.parentNode.insertBefore(t,k);return t},insertAfter:function(t,k){if((t=a.get(t))&&(k=a.get(k))&&k.parentNode)k.nextSibling?k.parentNode.insertBefore(t,k.nextSibling):k.parentNode.appendChild(t);return t},append:function(t,k){if((t=a.get(t))&&(k=a.get(k)))k.appendChild&&k.appendChild(t)},prepend:function(t,k){if((t=a.get(t))&&(k=a.get(k)))k.firstChild?s.insertBefore(t,
k.firstChild):k.appendChild(t)}})});
KISSY.add("event",function(a,s){function t(o,f,c,b,j){if(a.isString(f))f=a.query(f);if(a.isArray(f)){a.each(f,function(n){p[o](n,c,b,j)});return true}if((c=a.trim(c))&&c.indexOf(m)>0){a.each(c.split(m),function(n){p[o](f,n,b,j)});return true}if(f.getDOMNodes){for(var i=0;i<f.length;i++)p[o](f.item(i),c,b,j);return true}}function k(o,f){g(o)&&h.data(o,w,f)}function g(o){return o&&o.nodeType!==3&&o.nodeType!==8}var l=document,h=a.DOM,d=l.addEventListener?function(o,f,c,b){o.addEventListener&&o.addEventListener(f,
c,!!b)}:function(o,f,c){o.attachEvent&&o.attachEvent("on"+f,c)},u=l.removeEventListener?function(o,f,c,b){o.removeEventListener&&o.removeEventListener(f,c,!!b)}:function(o,f,c){o.detachEvent&&o.detachEvent("on"+f,c)},w="ksEventTargetId",m=" ",e=a.now(),r={},p={EVENT_GUID:w,special:{},add:function(o,f,c,b){if(!t("add",o,f,c,b)){var j=g(o)?h.data(o,w):-1,i,n,v,y,q;if(!(j===-1||!f||!a.isFunction(c))){if(!j){k(o,j=e++);r[j]={target:o,events:{}}}n=r[j].events;if(!n[f]){i=((j=!o.isCustomEventTarget)||o._supportSpecialEvent)&&
p.special[f]||{};v=function(x,z){if(!x||!x.fixed)x=new a.EventObject(o,x,f);a.isPlainObject(z)&&a.mix(x,z);i.setup&&i.setup(x);return(i.handle||p._handle)(o,x,n[f].listeners)};n[f]={handle:v,listeners:[]};y=i.fix||f;q=i.capture;if(j)d(o,y,v,q);else o._addEvent&&o._addEvent(y,v,q)}n[f].listeners.push({fn:c,scope:b||o})}}},remove:function(o,f,c,b){if(!t("remove",o,f,c,b)){var j=g(o)?h.data(o,w):-1,i,n,v,y,q,x,z;if(j!==-1)if(j&&(i=r[j]))if(i.target===o){b=b||o;i=i.events||{};if(n=i[f]){v=n.listeners;
x=v.length;if(a.isFunction(c)&&x){q=y=0;for(z=[];y<x;++y)if(c!==v[y].fn||b!==v[y].scope)z[q++]=v[y];n.listeners=z;x=z.length}if(c===s||x===0){if(o.isCustomEventTarget)o._removeEvent&&o._removeEvent(f,n.handle);else{c=p.special[f]||{};u(o,c.fix||f,n.handle)}delete i[f]}}if(f===s||a.isEmptyObject(i)){for(f in i)p.remove(o,f);delete r[j];h.removeData(o,w)}}}},_handle:function(o,f,c){c=c.slice(0);for(var b,j=0,i=c.length;j<i;++j){b=c[j];b=b.fn.call(b.scope,f);if(b===false&&o.isCustomEventTarget||f.isImmediatePropagationStopped)break}return b},
_getCache:function(o){return r[o]},_simpleAdd:d,_simpleRemove:u};p.on=p.add;a.Event=p});
KISSY.add("event-object",function(a,s){function t(l,h,d){this.currentTarget=l;this.originalEvent=h||{};if(h){this.type=h.type;this._fix()}else{this.type=d;this.target=l}if(l.isCustomEventTarget)if(a.DOM._isKSNode(l))this.target=new a.Node(this.target);this.currentTarget=l;this.fixed=true}var k=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(t,
{_fix:function(){var l=this.originalEvent,h=g.length,d,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||k;h;){d=g[--h];this[d]=l[d]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){l=u.documentElement;h=u.body;this.pageX=this.clientX+(l&&l.scrollLeft||h&&h.scrollLeft||
0)-(l&&l.clientLeft||h&&h.clientLeft||0);this.pageY=this.clientY+(l&&l.scrollTop||h&&h.scrollTop||0)-(l&&l.clientTop||h&&h.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=
this.originalEvent;if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=t});
KISSY.add("event-target",function(a,s){var t=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(k,g){var l=a.DOM.data(this,t.EVENT_GUID)||-1;if((l=((t._getCache(l)||{}).events||{})[k])&&a.isFunction(l.handle))return l.handle(s,g);return this},on:function(k,g,l){t.add(this,k,g,l);return this},detach:function(k,g,l){t.remove(this,k,g,l);return this}}});
KISSY.add("event-mouseenter",function(a){var s=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){s.special[t.name]={fix:t.fix,setup:function(k){k.type=t.name},handle:function(k,g,l){if(a.DOM._isKSNode(k))k=k[0];var h=g.relatedTarget;try{for(;h&&h!==k;)h=h.parentNode;h!==k&&s._handle(k,g,l)}catch(d){}}}})});
KISSY.add("event-focusin",function(a){var s=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){s.special[t.name]={fix:t.fix,capture:true,setup:function(k){k.type=t.name}}})});
KISSY.add("node",function(a){function s(k,g,l){if(!(this instanceof s))return new s(k,g,l);if(k){if(a.isString(k)){k=t.create(k,g,l);if(k.nodeType===11)return new a.NodeList(k.childNodes)}else if(k instanceof s)return k;else k=k;this[0]=k}else this.length=0}var t=a.DOM;s.TYPE="-ks-Node";a.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});a.one=function(k,g){var l=a.get(k,g);return l?new s(l):null};a.Node=s});
KISSY.add("nodelist",function(a){function s(g){if(!(this instanceof s))return new s(g);t.push.apply(this,a.makeArray(g)||[])}var t=Array.prototype,k=a.DOM._isElementNode;a.mix(s.prototype,{length:0,item:function(g){var l=null,h,d;if(k(g)){h=0;for(d=this.length;h<d;h++)if(g===this[h]){g=h;break}}if(k(this[g]))l=new a.Node(this[g]);return l},getDOMNodes:function(){return t.slice.call(this)},each:function(g,l){var h=this.length,d=0,u;for(u=new a.Node(this[0]);d<h&&g.call(l||u,u,d,this)!==false;u=new a.Node(this[++d]));
return this}});a.all=function(g,l){return new s(a.query(g,l,true))};a.NodeList=s});
KISSY.add("node-attach",function(a,s){function t(b,j,i,n){b=[this[b?p:r]()].concat(a.makeArray(j));if(j[i]===s)return n.apply(h,b);else{n.apply(h,b);return this}}function k(b,j){a.each(b,function(i){a.each([m,e],function(n,v){n[i]=function(y){switch(j){case o:return function(){return t.call(this,v,arguments,1,y)};case f:return function(){return t.call(this,v,arguments,0,y)};case c:return function(){var q=this[v?p:r]();return(q=y.apply(h,[q].concat(a.makeArray(arguments))))?new (a[a.isArray(q)?"NodeList":
"Node"])(q):null};default:return function(){var q=this[v?p:r]();q=y.apply(h,[q].concat(a.makeArray(arguments)));return q===s?this:q}}}(h[i])})})}function g(b,j,i){b&&a.each(this,function(n){var v;if(j||a.isString(b))v=h.create(b);else{if(u(b,1)||u(b,3))v=b;if(w(b))v=b[0]}h[i](v,n)});return this}function l(b,j){if((b=a.get(b))&&b.appendChild)a.each(this,function(i){h[j](i,b)});return this}var h=a.DOM,d=a.Event,u=h._nodeTypeIs,w=h._isKSNode,m=a.Node.prototype,e=a.NodeList.prototype,r="getDOMNode",p=
r+"s",o=1,f=2,c=4;a.mix(m,{one:function(b){return a.one(b,this[0])},all:function(b){return a.all(b,this[0])}});k(["data","removeData"],o);k(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);k(["attr","removeAttr"],o);k(["val","text"],f);k(["css"],o);k(["width","height"],f);k(["offset"],f);k(["scrollIntoView"]);k(["parent","next","prev","siblings","children"],c);k(["contains"]);k(["html"],f);k(["remove"]);a.each(["insertBefore","insertAfter"],function(b){m[b]=function(j){h[b].call(h,
this[0],j);return this}});a.each([m,e],function(b,j){a.each(["append","prepend"],function(i){b[i]=function(n){return g.call(this,n,j,i)};b[i+"To"]=function(n){return l.call(this,n,i)}})});a.mix(m,a.EventTarget);m._supportSpecialEvent=true;m._addEvent=function(b,j,i){d._simpleAdd(this[0],b,j,i)};m._removeEvent=function(b,j,i){d._simpleRemove(this[0],b,j,i)};delete m.fire;a.mix(e,a.EventTarget);delete e.fire});if(!this.JSON)this.JSON={};
(function(){function a(w){return w<10?"0"+w:w}function s(w){g.lastIndex=0;return g.test(w)?'"'+w.replace(g,function(m){var e=d[m];return typeof e==="string"?e:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function t(w,m){var e,r,p,o,f=l,c,b=m[w];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(w);if(typeof u==="function")b=u.call(m,w,b);switch(typeof b){case "string":return s(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";l+=h;c=[];if(Object.prototype.toString.apply(b)==="[object Array]"){o=b.length;for(e=0;e<o;e+=1)c[e]=t(e,b)||"null";p=c.length===0?"[]":l?"[\n"+l+c.join(",\n"+l)+"\n"+f+"]":"["+c.join(",")+"]";l=f;return p}if(u&&typeof u==="object"){o=u.length;for(e=0;e<o;e+=1){r=u[e];if(typeof r==="string")if(p=t(r,b))c.push(s(r)+(l?": ":":")+p)}}else for(r in b)if(Object.hasOwnProperty.call(b,r))if(p=t(r,b))c.push(s(r)+(l?": ":":")+p);p=c.length===0?"{}":l?"{\n"+l+c.join(",\n"+l)+
"\n"+f+"}":"{"+c.join(",")+"}";l=f;return p}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,h,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(w,m,e){var r;h=l="";if(typeof e==="number")for(r=0;r<e;r+=1)h+=" ";else if(typeof e==="string")h=e;if((u=m)&&typeof m!=="function"&&(typeof m!=="object"||typeof m.length!=="number"))throw Error("JSON.stringify");return t("",{"":w})};
if(typeof JSON.parse!=="function")JSON.parse=function(w,m){function e(p,o){var f,c,b=p[o];if(b&&typeof b==="object")for(f in b)if(Object.hasOwnProperty.call(b,f)){c=e(b,f);if(c!==undefined)b[f]=c;else delete b[f]}return m.call(p,o,b)}var r;w=String(w);k.lastIndex=0;if(k.test(w))w=w.replace(k,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){r=eval("("+w+")");return typeof m==="function"?e({"":r},""):r}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var s=window.JSON;a.JSON={parse:function(t){if(t==null||t==="")return null;return s.parse(t)},stringify:s.stringify}});
KISSY.add("ajax",function(a,s){function t(q){q=a.merge(y,q);if(q.url){if(q.data&&!a.isString(q.data))q.data=a.param(q.data);q.context=q.context||q;var x,z=b,A,C=q.type.toUpperCase();if(q.dataType===e){x=q.jsonpCallback||e+a.now();q.url=q.url+(q.url.indexOf("?")===-1?"?":"&")+(q.jsonp+"="+x);q.dataType=r;var E=l[x];l[x]=function(G){if(a.isFunction(E))E(G);else{l[x]=s;try{delete l[x]}catch(F){}}k([b,j],G,z,B,q)}}if(q.data&&C===d)q.url=q.url+(q.url.indexOf("?")===-1?"?":"&")+q.data;if(q.dataType===r){g(o,
q);C=a.getScript(q.url,x?null:function(){k([b,j],p,z,B,q)});g(f,q);return C}var D=false,B=q.xhr();g(o,q);B.open(C,q.url,q.async);try{if(q.data||q.contentType)B.setRequestHeader(w,q.contentType);B.setRequestHeader("Accept",q.dataType&&q.accepts[q.dataType]?q.accepts[q.dataType]+", */*; q=0.01":q.accepts._default)}catch(K){}B.onreadystatechange=function(G){if(!B||B.readyState===0||G==="abort"){D||k(j,null,i,B,q);D=true;if(B)B.onreadystatechange=h}else if(!D&&B&&(B.readyState===4||G===n)){D=true;B.onreadystatechange=
h;var F;if(G===n)F=n;else{a:{try{F=B.status>=200&&B.status<300||B.status===304||B.status===1223;break a}catch(H){}F=false}F=F?b:i}z=F;try{F=B;var I=q.dataType,M=p,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(w)||p;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===v)throw v;}if(a.isString(L))if(I===m||!I&&M.indexOf(m)>=0)L=a.JSON.parse(L);A=L}catch(O){z=v}k([z===b?b:i,j],A,z,B,q);if(G===n){B.abort();g(c,q)}if(q.async)B=null}};g(f,q);try{B.send(C===
u?q.data:null)}catch(J){k([i,j],A,i,B,q)}q.async||g(j,q);return B}}function k(q,x,z,A,C){if(a.isArray(q))a.each(q,function(E){k(E,x,z,A,C)});else{z===q&&C[q]&&C[q].call(C.context,x,z,A);g(q,C)}}function g(q,x){t.fire(q,{ajaxConfig:x})}var l=window,h=function(){},d="GET",u="POST",w="Content-Type",m="json",e=m+"p",r="script",p="",o="start",f="send",c="stop",b="success",j="complete",i="error",n="timeout",v="parsererror",y={type:d,url:p,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:l.ActiveXObject?function(){if(l.XmlHttpRequest)try{return new l.XMLHttpRequest}catch(q){}try{return new l.ActiveXObject("Microsoft.XMLHTTP")}catch(x){}}:function(){return new l.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(t,a.EventTarget);a.mix(t,{get:function(q,x,z,A,C){if(a.isFunction(x)){A=z;z=x}return t({type:C||d,
url:q,data:x,success:function(E,D,B){z&&z.call(this,E,D,B)},dataType:A})},post:function(q,x,z,A){if(a.isFunction(x)){A=z;z=x;x=s}return t.get(q,x,z,A,u)},jsonp:function(q,x,z){if(a.isFunction(x)){z=x;x=null}return t.get(q,x,z,e)}});t.getScript=a.getScript;a.io=a.ajax=t.ajax=t;a.jsonp=t.jsonp;a.IO=t});
KISSY.add("anim-easing",function(a){var s=Math,t=s.PI,k=s.pow,g=s.sin,l=1.70158,h={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(k(2,10*(d-=1))*g((d-0.075)*2*t/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return k(2,-10*d)*g((d-0.075)*2*t/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*k(2,10*(d-=1))*g((d-0.1125)*2*t/0.45);return k(2,-10*(d-=1))*g((d-0.1125)*2*t/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((l+1)*d-l)},backOut:function(d){return(d-=1)*d*((l+1)*d+l)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((l*=1.525)+1)*d-l);return 0.5*((d-=2)*d*(((l*=1.525)+1)*d+l)+2)},bounceIn:function(d){return 1-
h.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return h.bounceIn(d*2)*0.5;return h.bounceOut(d*2-1)*0.5+0.5}};h.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=h});
KISSY.add("anim",function(a,s){function t(c,b,j,i,n,v){if(c=a.get(c)){if(!(this instanceof t))return new t(c,b,j,i,n,v);var y=a.isPlainObject(j);b=b;this.domEl=c;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var q={},x=r.length,z;e.innerHTML='<div style="'+b+'"></div>';for(c=e.firstChild.style;x--;)if(z=c[r[x]])q[r[x]]=l(z);this.props=q;this.targetStyle=b;if(y)y=a.merge(f,j);else{y=a.clone(f);if(j)y.duration=m(j)||1;if(a.isString(i)||
a.isFunction(i))y.easing=i;if(a.isFunction(n))y.complete=n;if(v!==s)y.nativeSupport=v}this.config=y;if(y.nativeSupport&&k()&&a.isString(i=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(i)||(i=w.NativeTimeFunction[i])){y.easing=i;this.transitionName=k()}a.isFunction(n)&&this.on(o,n)}}function k(){var c="transition",b;if(e.style[c]!==s)b=c;else a.each(["Webkit","Moz","O"],function(j){if(e.style[c=j+"Transition"]!==s){b=c;return false}});k=function(){return b};return b}function g(c,b,j){a.UA.ie&&j.indexOf(p)>
-1&&u.css(c,p,b[p].v);c.style.cssText+=";"+j}function l(c){var b=m(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:c,u:"",f:d}:{v:b,u:c,f:h}}function h(c,b,j){return(c+(b-c)*j).toFixed(3)}function d(c,b,j){for(var i=2,n,v,y=[],q=[];n=3,v=arguments[i-1],i--;)if(v.substr(0,4)==="rgb(")for(v=v.match(/\d+/g);n--;)y.push(~~v[n]);else if(v.substr(0,1)==="#"){if(v.length===4)v="#"+v.substr(1,1)+v.substr(1,1)+v.substr(2,1)+v.substr(2,1)+v.substr(3,1)+v.substr(3,1);for(;n--;)y.push(parseInt(v.substr(1+
n*2,2),16))}else return b;for(;n--;){i=~~(y[n+3]+(y[n]-y[n+3])*j);q.push(i<0?0:i>255?255:i)}return"rgb("+q.join(",")+")"}var u=a.DOM,w=a.Easing,m=parseFloat,e=u.create("<div>"),r="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
p="opacity",o="complete",f={duration:1,easing:"easeNone",nativeSupport:true};a.augment(t,a.EventTarget,{run:function(){var c=this,b=c.config,j=c.domEl,i,n,v,y,q=c.props,x={},z;for(z in q)x[z]=l(u.css(j,z));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{i=b.duration*1E3;v=a.now();y=v+i;n=b.easing;if(a.isString(n))n=w[n]||w.easeNone;c.timer=a.later(b=function(){var A=a.now(),C=A>y?1:(A-v)/i,E,D,B;for(z in q){E=x[z];D=q[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;u.css(j,z,
D.f(E.v,D.v,n(C))+D.u)}if(c.fire("step")===false||(B=A>y)){c.stop();B&&c.fire(o)}},13,true);b()}return c}},_nativeRun:function(){var c=this,b=c.config,j=c.domEl,i=c.props,n=b.duration*1E3;b=b.easing;var v=c.transitionName,y={};y[v+"Property"]="all";y[v+"Duration"]=n+"ms";y[v+"TimingFunction"]=b;u.css(j,y);a.later(function(){g(j,i,c.targetStyle)},0);a.later(function(){c.stop(true)},n)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=s}if(c){g(this.domEl,
this.props,this.targetStyle);this.fire(o)}}return this},_nativeStop:function(c){var b=this.domEl,j=this.transitionName,i=this.props,n;if(c){u.css(b,j+"Property","none");this.fire(o)}else{for(n in i)u.css(b,n,u._getComputedStyle(b,n));u.css(b,j+"Property","none")}}});t.supportTransition=function(){return!!k()};a.Anim=t});
KISSY.add("anim-node-plugin",function(a,s){function t(p,o,f,c,b){if(o==="toggle"){b=k.css(p,l)===h?1:0;o="show"}if(b)k.css(p,l,k.data(p,l)||"");var j={},i={};a.each(r[o],function(n){if(n===d){j[d]=k.css(p,d);k.css(p,d,u)}else if(n===w){j[w]=k.css(p,w);i.opacity=b?1:0;b&&k.css(p,w,0)}else if(n===m){j[m]=k.css(p,m);i.height=b?k.css(p,m)||p.naturalHeight:0;b&&k.css(p,m,0)}else if(n===e){j[e]=k.css(p,e);i.width=b?k.css(p,e)||p.naturalWidth:0;b&&k.css(p,e,0)}});(new a.Anim(p,i,f,"easeOut",function(){if(!b){var n=
p.style,v=n[l];if(v!==h){v&&k.data(p,l,v);n[l]=h}j[m]&&k.css(p,{height:j[m]});j[e]&&k.css(p,{height:j[e]});j[w]&&k.css(p,{height:j[w]});j[d]&&k.css(p,{height:j[d]})}c&&a.isFunction(c)&&c()})).run()}var k=a.DOM,g=a.Anim,l="display",h="none",d="overflow",u="hidden",w="opacity",m="height",e="width",r={show:[d,w,m,e],fade:[w],slide:[d,m]};a.each([a.Node.prototype,a.NodeList.prototype],function(p){p.animate=function(){var o=a.makeArray(arguments);a.each(this,function(f){g.apply(s,[f].concat(o)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(o,f){p[f]=function(c,b){k[f]&&arguments.length===0?k[f](this):a.each(this,function(j){t(j,o[0],c,b,o[1])});return this}})})});
KISSY.add("cookie",function(a){var s=document,t=encodeURIComponent,k=decodeURIComponent;a.Cookie={get:function(g){var l;if(a.isString(g)&&g!=="")if(g=s.cookie.match("(?:^| )"+g+"(?:(?:=([^;]*))|;|$)"))l=g[1]?k(g[1]):"";return l},set:function(g,l,h,d,u,w){l=t(l);var m=h;if(typeof m==="number"){m=new Date;m.setTime(m.getTime()+h*864E5)}if(m instanceof Date)l+="; expires="+m.toUTCString();if(a.isString(d)&&d!=="")l+="; domain="+d;if(a.isString(u)&&u!=="")l+="; path="+u;if(w)l+="; secure";s.cookie=g+
"="+l},remove:function(g,l,h,d){this.set(g,"",0,l,h,d)}}});
KISSY.add("attribute",function(a,s){function t(){this.__attrs={};this.__attrVals={}}function k(g){g+="";return g.charAt(0).toUpperCase()+g.substring(1)}a.augment(t,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(g,l){this.__attrs[g]=a.clone(l||{});return this},addAttrs:function(g,l){var h=this;a.each(g,function(d,u){if(u in l)d.value=l[u];h.addAttr(u,d)});return h},hasAttr:function(g){return g&&g in(this.__attrs||{})},removeAttr:function(g){if(this.hasAttr(g)){delete this.__attrs[g];
delete this.__attrVals[g]}return this},set:function(g,l){var h=this.get(g);if(h!==l)if(false!==this.__fireAttrChange("before",g,h,l)){this.__set(g,l);this.__fireAttrChange("after",g,h,this.__attrVals[g]);return this}},__fireAttrChange:function(g,l,h,d){return this.fire(g+k(l)+"Change",{attrName:l,prevVal:h,newVal:d})},__set:function(g,l){var h,d=this.__attrs[g];if(d=d&&d.setter)h=d.call(this,l);if(h!==s)l=h;this.__attrVals[g]=l},get:function(g){var l;l=(l=this.__attrs[g])&&l.getter;g=g in this.__attrVals?
this.__attrVals[g]:this.__getDefAttrVal(g);if(l)g=l.call(this,g);return g},__getDefAttrVal:function(g){g=this.__attrs[g];var l;if(g){if(l=g.valueFn){l=l.call(this);if(l!==s)g.value=l;delete g.valueFn}return g.value}},reset:function(g){if(this.hasAttr(g))return this.set(g,this.__getDefAttrVal(g));for(g in this.__attrs)this.hasAttr(g)&&this.reset(g);return this}});a.Attribute=t;t.__capitalFirst=k});
KISSY.add("base",function(a){function s(t){a.Attribute.call(this);for(var k=this.constructor;k;){var g=k.ATTRS;if(g){var l=void 0;for(l in g)g.hasOwnProperty(l)&&!this.hasAttr(l)&&this.addAttr(l,g[l])}k=k.superclass?k.superclass.constructor:null}if(t)for(var h in t)t.hasOwnProperty(h)&&this.__set(h,t[h])}a.augment(s,a.EventTarget,a.Attribute);a.Base=s});KISSY.add("core");
