/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(a,r,s){var l={mix:function(h,f,t,w){if(!f||!h)return h;if(t===s)t=true;var k,q,v;if(w&&(v=w.length))for(k=0;k<v;k++){q=w[k];if(q in f)if(t||!(q in h))h[q]=f[q]}else for(q in f)if(t||!(q in h))h[q]=f[q];return h}},i=a&&a[r]||{},m=0;a=i.__HOST||(i.__HOST=a||{});r=a[r]=l.mix(i,l,false);r.mix(r,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var h={},f,t=arguments.length;for(f=0;f<t;f++)r.mix(h,arguments[f]);return h},augment:function(){var h=arguments,
f=h.length-2,t=h[0],w=h[f],k=h[f+1],q=1;if(!r.isArray(k)){w=k;k=s;f++}if(!r.isBoolean(w)){w=s;f++}for(;q<f;q++)r.mix(t.prototype,h[q].prototype||h[q],w,k);return t},extend:function(h,f,t,w){if(!f||!h)return h;var k=Object.create?function(g,o){return Object.create(g,{constructor:{value:o}})}:function(g,o){function d(){}d.prototype=g;var c=new d;c.constructor=o;return c},q=f.prototype,v;v=k(q,h);h.prototype=r.mix(v,h.prototype);h.superclass=k(q,f);t&&r.mix(v,t);w&&r.mix(h,w);return h},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var h=arguments,f=h.length,t=null,w,k,q,v=h[f-1]===true&&f--;for(w=0;w<f;w++){q=(""+h[w]).split(".");t=v?a:this;for(k=a[q[0]]===t?1:0;k<q.length;++k)t=t[q[k]]=t[q[k]]||{}}return t},app:function(h,f){var t=r.isString(h),w=t?a[h]||{}:h,k=0,q=r.__APP_INIT_METHODS.length;for(r.mix(w,this,true,r.__APP_MEMBERS);k<q;k++)r[r.__APP_INIT_METHODS[k]].call(w);r.mix(w,r.isFunction(f)?f():f);t&&(a[h]=w);return w},log:function(h,
f,t){if(r.Config.debug){if(t)h=t+": "+h;if(a.console!==s&&console.log)console[f&&console[f]?f:"log"](h)}},error:function(h){if(r.Config.debug)throw h;},guid:function(h){return(h||"")+m++}});r.__init();return r})(this,"KISSY");
(function(a,r){var s=a.__HOST,l=Object.prototype.toString,i=Array.prototype.indexOf,m=Array.prototype.lastIndexOf,h=Array.prototype.filter,f=String.prototype.trim,t=/^\s+|\s+$/g,w={};a.mix(a,{type:function(k){return k==null?String(k):w[l.call(k)]||"object"},isNull:function(k){return k===null},isUndefined:function(k){return k===r},isEmptyObject:function(k){for(var q in k)return false;return true},isPlainObject:function(k){return k&&l.call(k)==="[object Object]"&&"isPrototypeOf"in k},clone:function(k,
q,v){var g=k,o,d,c=v||{};if(k&&((o=a.isArray(k))||a.isPlainObject(k))){if(k["__~ks_cloned"])return c[k["__~ks_cloned"]];k["__~ks_cloned"]=g=a.guid();c[g]=k;if(o)g=q?a.filter(k,q):k.concat();else{g={};for(d in k)if(d!=="__~ks_cloned"&&k.hasOwnProperty(d)&&(!q||q.call(k,k[d],d,k)!==false))g[d]=a.clone(k[d],q,c)}}if(!v){a.each(c,function(b){if(b["__~ks_cloned"])try{delete b["__~ks_cloned"]}catch(e){b["__~ks_cloned"]=r}});c=r}return g},trim:f?function(k){return k==r?"":f.call(k)}:function(k){return k==
r?"":k.toString().replace(t,"")},substitute:function(k,q,v){if(!a.isString(k)||!a.isPlainObject(q))return k;return k.replace(v||/\\?\{([^{}]+)\}/g,function(g,o){if(g.charAt(0)==="\\")return g.slice(1);return q[o]!==r?q[o]:""})},each:function(k,q,v){var g,o=0,d=k.length,c=d===r||a.type(k)==="function";v=v||s;if(c)for(g in k){if(q.call(v,k[g],g,k)===false)break}else for(g=k[0];o<d&&q.call(v,g,o,k)!==false;g=k[++o]);return k},indexOf:i?function(k,q){return i.call(q,k)}:function(k,q){for(var v=0,g=q.length;v<
g;++v)if(q[v]===k)return v;return-1},lastIndexOf:m?function(k,q){return m.call(q,k)}:function(k,q){for(var v=q.length-1;v>=0;v--)if(q[v]===k)break;return v},unique:function(k,q){q&&k.reverse();for(var v=k.slice(),g=0,o,d;g<v.length;){for(d=v[g];(o=a.lastIndexOf(d,v))!==g;)v.splice(o,1);g+=1}q&&v.reverse();return v},inArray:function(k,q){return a.indexOf(k,q)>-1},filter:h?function(k,q,v){return h.call(k,q,v||this)}:function(k,q,v){var g=[];a.each(k,function(o,d,c){if(q.call(v||this,o,d,c))g.push(o)});
return g},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(k,q){w["[object "+k+"]"]=q=k.toLowerCase();a["is"+k]=function(v){return a.type(v)==q}})})(KISSY);
(function(a,r){function s(d){var c=typeof d;return d===null||c!=="object"&&c!=="function"}function l(d){return Array.prototype.slice.call(d)}var i=a.__HOST,m=i.document,h=m.documentElement,f=encodeURIComponent("[]"),t=false,w=[],k=false,q=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,g=/\S/;a.mix(a,{isWindow:function(d){return a.type(d)==="object"&&"setInterval"in d},makeArray:function(d){if(d===null||d===r)return[];if(a.isArray(d))return d;if(typeof d.length!=="number"||a.isString(d)||a.isFunction(d))return[d];
return l(d)},param:function(d,c){if(!a.isPlainObject(d))return"";c=c||"&";var b=[],e,j;for(e in d){j=d[e];e=encodeURIComponent(e);if(s(j))b.push(e,"=",encodeURIComponent(j+""),c);else if(a.isArray(j)&&j.length)for(var n=0,u=j.length;n<u;++n)s(j[n])&&b.push(e,f+"=",encodeURIComponent(j[n]+""),c)}b.pop();return b.join("")},unparam:function(d,c){if(typeof d!=="string"||(d=a.trim(d)).length===0)return{};for(var b={},e=d.split(c||"&"),j,n,u,y,p=0,x=e.length;p<x;++p){j=e[p].split("=");n=decodeURIComponent(j[0]);
try{u=decodeURIComponent(j[1]||"")}catch(z){u=j[1]||""}if((y=n.match(v))&&y[1]){b[y[1]]=b[y[1]]||[];b[y[1]].push(u)}else b[n]=u}return b},globalEval:function(d){if(d&&g.test(d)){var c=m.getElementsByTagName("head")[0]||h,b=m.createElement("script");b.text=d;c.insertBefore(b,c.firstChild);c.removeChild(b)}},later:function(d,c,b,e,j){c=c||0;e=e||{};var n=d,u=a.makeArray(j),y;if(a.isString(d))n=e[d];n||a.error("method undefined");d=function(){n.apply(e,u)};y=b?setInterval(d,c):setTimeout(d,c);return{id:y,
interval:b,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},ready:function(d){k||this._bindReady();t?d.call(i,this):w.push(d);return this},_bindReady:function(){var d=this,c=m.documentElement.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",e=function(){d._fireReady()};k=true;if(m.readyState==="complete")return e();if(m.addEventListener){var j=function(){m.removeEventListener(b,j,false);e()};m.addEventListener(b,j,false);i.addEventListener("load",e,false)}else{var n=function(){if(m.readyState===
"complete"){m.detachEvent(b,n);e()}};m.attachEvent(b,n);i.attachEvent("onload",e);var u=false;try{u=i.frameElement==null}catch(y){}if(c&&u){var p=function(){try{c("left");e()}catch(x){setTimeout(p,1)}};p()}}},_fireReady:function(){if(!t){t=true;if(w){for(var d,c=0;d=w[c++];)d.call(i,this);w=null}}},available:function(d,c){if((d=(d+"").match(q)[1])&&a.isFunction(c))var b=1,e=a.later(function(){if(m.getElementById(d)&&(c()||1)||++b>500)e.cancel()},40,true)}});try{l(h.childNodes)}catch(o){l=function(d){for(var c=
[],b=d.length-1;b>=0;b--)c[b]=d[b];return c}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,r){var s=a.__HOST.document,l=s.getElementsByTagName("head")[0]||s.documentElement,i=2,m=3,h=4,f=a.mix,t=s.createElement("script").readyState?function(g,o){var d=g.onreadystatechange;g.onreadystatechange=function(){var c=g.readyState;if(c==="loaded"||c==="complete"){g.onreadystatechange=null;d&&d();o.call(this)}}}:function(g,o){g.addEventListener("load",o,false)},w=/\.css(?:\?|$)/i,k;k={add:function(g,o,d){var c=this.Env.mods,b;if(a.isString(g)&&!d&&a.isPlainObject(o)){b={};b[g]=o;g=b}if(a.isPlainObject(g)){a.each(g,
function(e,j){e.name=j;c[j]&&f(e,c[j],false)});f(c,g)}else{d=d||{};b=c[g]||{};g=d.host||b.host||g;b=c[g]||{};f(b,{name:g,status:i});if(!b.fns)b.fns=[];o&&b.fns.push(o);f(c[g]=b,d);b.attach!==false&&this.__isAttached(b.requires)&&this.__attachMod(b)}return this},use:function(g,o,d){g=g.replace(/\s+/g,"").split(",");d=d||{};var c=this,b;d=(d||0).global;var e,j=g.length,n;d&&c.__mixMods(d);if(c.__isAttached(g))o&&o(c);else{for(e=0;e<j&&(b=g[e]);e++)c.__attachModByName(b,function(){if(!n&&c.__isAttached(g)){n=
true;o&&o(c)}},d);return c}},__attachModByName:function(g,o,d){var c=this.Env.mods,b=g.indexOf("+css")!=-1;g=b?g.replace(/\+css/g,""):g;var e=c[g];if(!e){e=a.Config.componentJsName||function(j){return j+"-pkg-min.js"};e=a.isFunction(e)?e(g):e;e={path:g+"/"+e,charset:"utf-8"};c[g]=e}if(b){c=a.Config.componentCssName||function(j){return j+"-min.css"};c=a.isFunction(c)?c(g):c;e.csspath=g+"/"+c}e&&e.status===h||this.__attach(e,o,d)},__attach:function(g,o,d){function c(){for(var x=g.requires||[],z=x.length-
1;z>=0;z--){var A=x[z],C=e[A];C&&C.status===h||a.inArray(A,j)||b.__attachModByName(A,c,d)}if(!p&&b.__isAttached(x)){g.status===i&&b.__attachMod(g);if(g.status===h){p=true;o()}}}for(var b=this,e=b.Env.mods,j=(g.requires||[]).concat(),n=0,u=j.length;n<u;n++){var y=e[j[n]];y&&y.status===h||b.__attachModByName(j[n],c,d)}b.__buildPath(g);b.__load(g,c,d);var p=false},__mixMods:function(g){var o=this.Env.mods,d=g.Env.mods,c;for(c in d)this.__mixMod(o,d,c,g)},__mixMod:function(g,o,d,c){var b=g[d]||{},e=b.status;
a.mix(b,a.clone(o[d]));if(e)b.status=e;c&&this.__buildPath(b,c.Config.base);g[d]=b},__attachMod:function(g){var o=this;if(g.fns){a.each(g.fns,function(d){d&&d(o)});g.fns=r}g.status=h},__isAttached:function(g){for(var o=this.Env.mods,d,c=(g=a.makeArray(g)).length-1;c>=0;c--){d=g[c].replace(/\+css/,"");d=o[d]||{};if(d.status!==h)return false}return true},__load:function(g,o,d){function c(){j[e]=i;if(g.status!==m){d&&b.__mixMod(b.Env.mods,d.Env.mods,g.name,d);if(g.status!==h)g.status=i;o()}}var b=this,
e=g.fullpath,j=a.Env._loadQueue,n=j[e];g.status=g.status||0;if(g.status<1&&n)g.status=n.nodeName?1:i;if(a.isString(g.cssfullpath)){b.getScript(g.cssfullpath);g.cssfullpath=i}if(g.status<1&&e){g.status=1;n=b.getScript(e,{success:function(){KISSY.log(g.name+" is loaded.","info");c()},error:function(){g.status=m;j[e]=i},charset:g.charset});w.test(e)||(j[e]=n)}else g.status===1?t(n,c):o()},__buildPath:function(g,o){function d(b,e){if(!g[e]&&g[b])g[e]=(o||c.base)+g[b];if(g[e]&&c.debug)g[e]=g[e].replace(/-min/g,
"")}var c=this.Config;d("path","fullpath");g.cssfullpath!==i&&d("csspath","cssfullpath")},getScript:function(g,o,d){var c=w.test(g),b=s.createElement(c?"link":"script"),e=o,j,n,u;if(a.isPlainObject(e)){o=e.success;j=e.error;n=e.timeout;d=e.charset}if(c){b.href=g;b.rel="stylesheet"}else{b.src=g;b.async=true}if(d)b.charset=d;if(c)a.isFunction(o)&&o.call(b);else t(b,function(){if(u){u.cancel();u=r}a.isFunction(o)&&o.call(b);l&&b.parentNode&&l.removeChild(b)});if(a.isFunction(j))u=a.later(function(){u=
r;j()},(n||this.Config.timeout)*1E3);l.insertBefore(b,l.firstChild);return b}};f(a,k);var q=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,v=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var g=s.getElementsByTagName("script");g=g[g.length-1];var o=g.src,d=g.getAttribute("data-combo-prefix")||"??";g=g.getAttribute("data-combo-sep")||",";g=o.split(g);var c=g[0];d=c.indexOf(d);if(d==-1)o=o.replace(q,"$1");else{o=c.substring(0,d);d=c.substring(d+2,c.length);if(d.match(v))o+=d.replace(q,"$1");else for(d=1;d<
g.length;d++){c=g[d];if(c.match(v)){o+=c.replace(q,"$1");break}}}g=o;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=g;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(k,function(g,o){a.__APP_MEMBERS.push(o)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var r=navigator.userAgent,s="",l="",i,m={},h=function(f){var t=0;return parseFloat(f.replace(/\./g,function(){return t++===0?".":""}))};if((i=r.match(/AppleWebKit\/([\d.]*)/))&&i[1]){m[s="webkit"]=h(i[1]);if((i=r.match(/Chrome\/([\d.]*)/))&&i[1])m[l="chrome"]=h(i[1]);else if((i=r.match(/\/([\d.]*) Safari/))&&i[1])m[l="safari"]=h(i[1]);if(/ Mobile\//.test(r))m.mobile="apple";else if(i=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))m.mobile=i[0].toLowerCase()}else if((i=
r.match(/Presto\/([\d.]*)/))&&i[1]){m[s="presto"]=h(i[1]);if((i=r.match(/Opera\/([\d.]*)/))&&i[1]){m[l="opera"]=h(i[1]);if((i=r.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])m[l]=h(i[1]);if((i=r.match(/Opera Mini[^;]*/))&&i)m.mobile=i[0].toLowerCase();else if((i=r.match(/Opera Mobi[^;]*/))&&i)m.mobile=i[0]}}else if((i=r.match(/MSIE\s([^;]*)/))&&i[1]){m[s="trident"]=0.1;m[l="ie"]=h(i[1]);if((i=r.match(/Trident\/([\d.]*)/))&&i[1])m[s]=h(i[1])}else if(i=r.match(/Gecko/)){m[s="gecko"]=0.1;if((i=r.match(/rv:([\d.]*)/))&&
i[1])m[s]=h(i[1]);if((i=r.match(/Firefox\/([\d.]*)/))&&i[1])m[l="firefox"]=h(i[1])}m.core=s;m.shell=l;m._numberify=h;a.UA=m});
KISSY.add("ua-extra",function(a){var r=a.UA,s=navigator.userAgent,l,i,m={},h=r._numberify;if(s.match(/360SE/))m[i="se360"]=3;else if(s.match(/Maxthon/)&&(l=window.external)){i="maxthon";try{m[i]=h(l.max_version)}catch(f){m[i]=0.1}}else if(l=s.match(/TencentTraveler\s([\d.]*)/))m[i="tt"]=l[1]?h(l[1]):0.1;else if(s.match(/TheWorld/))m[i="theworld"]=3;else if(l=s.match(/SE\s([\d.]*)/))m[i="sougou"]=l[1]?h(l[1]):0.1;i&&(m.shell=i);a.mix(r,m)});
KISSY.add("dom",function(a,r){function s(l,i){return l&&l.nodeType===i}a.DOM={_isElementNode:function(l){return s(l,1)},_isKSNode:function(l){return a.Node&&s(l,a.Node.TYPE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:s(l,9)?l.defaultView||l.parentWindow:l===r?window:false},_nodeTypeIs:s}});
KISSY.add("selector",function(a,r){function s(c,b){var e,j,n=[],u;b=l(b);if(a.isString(c)){c=a.trim(c);if(o.test(c)){if(j=i(c.slice(1),b))n=[j]}else if(e=d.exec(c)){j=e[1];u=e[2];e=e[3];if(b=j?i(j,b):b)if(e)if(!j||c.indexOf(k)!==-1)n=h(e,u,b);else{if((j=i(j,b))&&w.hasClass(j,e))n=[j]}else if(u)n=m(u,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else f(c)}else if(c&&(c[v]||c[g]))n=c[v]?[c[v]()]:c[g]();else if(c&&(a.isArray(c)||c&&!c.nodeType&&c.item&&c!=window))n=c;else if(c)n=[c];if(n&&
!n.nodeType&&n.item&&n!=window)n=a.makeArray(n);n.each=function(y,p){return a.each(n,y,p)};return n}function l(c){if(c===r)c=t;else if(a.isString(c)&&o.test(c))c=i(c.slice(1),t);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function i(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function m(c,b){return b.getElementsByTagName(c)}function h(c,b,e){e=c=e.getElementsByClassName(c);var j=0,n=0,u=c.length,y;if(b&&b!==q){e=[];for(b=b.toUpperCase();j<u;++j){y=c[j];if(y.tagName===
b)e[n++]=y}}return e}function f(c){a.error("Unsupported selector: "+c)}var t=document,w=a.DOM,k=" ",q="*",v="getDOMNode",g=v+"s",o=/^#[\w-]+$/,d=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=t.createElement("div");c.appendChild(t.createComment(""));if(c.getElementsByTagName(q).length>0)m=function(b,e){var j=e.getElementsByTagName(b);if(b===q){for(var n=[],u=0,y=0,p;p=j[u++];)if(p.nodeType===1)n[y++]=p;j=n}return j}})();t.getElementsByClassName||(h=t.querySelectorAll?function(c,b,
e){return e.querySelectorAll((b?b:"")+"."+c)}:function(c,b,e){b=e.getElementsByTagName(b||q);e=[];var j=0,n=0,u=b.length,y,p;for(c=k+c+k;j<u;++j){y=b[j];if((p=y.className)&&(k+p+k).indexOf(c)>-1)e[n++]=y}return e});a.query=s;a.get=function(c,b){return s(c,b)[0]||null};a.mix(w,{query:s,get:a.get,filter:function(c,b){var e=s(c),j,n,u,y=[];if(a.isString(b)&&(j=d.exec(b))&&!j[1]){n=j[2];u=j[3];b=function(p){return!(n&&p.tagName!==n.toUpperCase()||u&&!w.hasClass(p,u))}}if(a.isFunction(b))y=a.filter(e,
b);else if(b&&a.ExternalSelector)y=a.ExternalSelector._filter(c,b+"");else f(b);return y},test:function(c,b){var e=s(c);return e.length&&w.filter(e,b).length===e.length}})});
KISSY.add("dom-data",function(a,r){var s=window,l=a.DOM,i="_ks_data_"+a.now(),m={},h={},f={EMBED:1,OBJECT:1,APPLET:1};a.mix(l,{data:function(t,w,k){if(a.isPlainObject(w))for(var q in w)l.data(t,q,w[q]);else if(k===r){t=a.get(t);var v;if(!(!t||f[t.nodeName])){if(t==s)t=h;v=(q=t&&t.nodeType)?m:t;t=v[q?t[i]:i];if(a.isString(w)&&t)return t[w];return t}}else a.query(t).each(function(g){if(!(!g||f[g.nodeName])){if(g==s)g=h;var o=m,d;if(g&&g.nodeType){if(!(d=g[i]))d=g[i]=a.guid()}else{d=i;o=g}if(w&&k!==
r){o[d]||(o[d]={});o[d][w]=k}}})},removeData:function(t,w){a.query(t).each(function(k){if(k){if(k==s)k=h;var q,v=m,g,o=k&&k.nodeType;if(o)q=k[i];else{v=k;q=i}if(q){g=v[q];if(w){if(g){delete g[w];a.isEmptyObject(g)&&l.removeData(k)}}else{if(o)k.removeAttribute&&k.removeAttribute(i);else try{delete k[i]}catch(d){}o&&delete v[q]}}}})}})});
KISSY.add("dom-class",function(a,r){function s(h,f,t,w){if(!(f=a.trim(f)))return w?false:r;h=a.query(h);var k=0,q=h.length;f=f.split(i);for(var v;k<q;k++){v=h[k];if(l._isElementNode(v)){v=t(v,f,f.length);if(v!==r)return v}}if(w)return false}var l=a.DOM,i=/[\.\s]\s*\.?/,m=/[\n\t]/g;a.mix(l,{hasClass:function(h,f){return s(h,f,function(t,w,k){if(t=t.className){t=" "+t+" ";for(var q=0,v=true;q<k;q++)if(t.indexOf(" "+w[q]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(h,f){s(h,f,function(t,
w,k){var q=t.className;if(q){var v=" "+q+" ";q=q;for(var g=0;g<k;g++)if(v.indexOf(" "+w[g]+" ")<0)q+=" "+w[g];t.className=a.trim(q)}else t.className=f})},removeClass:function(h,f){s(h,f,function(t,w,k){var q=t.className;if(q)if(k){q=(" "+q+" ").replace(m," ");for(var v=0,g;v<k;v++)for(g=" "+w[v]+" ";q.indexOf(g)>=0;)q=q.replace(g," ");t.className=a.trim(q)}else t.className=""})},replaceClass:function(h,f,t){l.removeClass(h,f);l.addClass(h,t)},toggleClass:function(h,f,t){var w=a.isBoolean(t),k;s(h,
f,function(q,v,g){for(var o=0,d;o<g;o++){d=v[o];k=w?!t:l.hasClass(q,d);l[k?"removeClass":"addClass"](q,d)}})}})});
KISSY.add("dom-attr",function(a,r){var s=a.UA,l=document.documentElement,i=!l.hasAttribute,m=l.textContent!==r?"textContent":"innerText",h=a.DOM,f=h._isElementNode,t=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,k=/\r/g,q=/^(?:radio|checkbox)/,v={readonly:"readOnly"},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};i&&a.mix(v,{"for":"htmlFor","class":"className"});a.mix(h,{attr:function(o,d,c,b){if(a.isPlainObject(d)){b=c;for(var e in d)h.attr(o,e,d[e],b)}else if(d=a.trim(d)){d=
d.toLowerCase();if(b&&g[d])return h[d](o,c);d=v[d]||d;if(c===r){o=a.get(o);if(!f(o))return r;var j;t.test(d)||(j=o[d]);if(j===r)j=o.getAttribute(d);if(i)if(w.test(d))j=o.getAttribute(d,2);else if(d==="style")j=o.style.cssText;return j===null?r:j}a.each(a.query(o),function(n){if(f(n))if(d==="style")n.style.cssText=c;else{if(d==="checked")n[d]=!!c;n.setAttribute(d,""+c)}})}},removeAttr:function(o,d){a.each(a.query(o),function(c){if(f(c)){h.attr(c,d,"");c.removeAttribute(d)}})},val:function(o,d){if(d===
r){var c=a.get(o);if(!f(c))return r;if(c&&c.nodeName.toUpperCase()==="option".toUpperCase())return(c.attributes.value||{}).specified?c.value:c.text;if(c&&c.nodeName.toUpperCase()==="select".toUpperCase()){var b=c.selectedIndex,e=c.options;if(b<0)return null;else if(c.type==="select-one")return h.val(e[b]);c=[];for(var j=0,n=e.length;j<n;++j)e[j].selected&&c.push(h.val(e[j]));return c}if(s.webkit&&q.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(k,"")}a.each(a.query(o),
function(u){if(u&&u.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(d))d+="";var y=a.makeArray(d),p=u.options,x;j=0;for(n=p.length;j<n;++j){x=p[j];x.selected=a.inArray(h.val(x),y)}if(!y.length)u.selectedIndex=-1}else if(f(u))u.value=d})},text:function(o,d){if(d===r){var c=a.get(o);if(f(c))return c[m]||"";else if(h._nodeTypeIs(c,3))return c.nodeValue}else a.each(a.query(o),function(b){if(f(b))b[m]=d;else if(h._nodeTypeIs(b,3))b.nodeValue=d})}})});
KISSY.add("dom-style",function(a,r){function s(b,e){var j=a.get(b),n=e===t?j.offsetWidth:j.offsetHeight;a.each(e===t?["Left","Right"]:["Top","Bottom"],function(u){n-=parseFloat(i._getComputedStyle(j,"padding"+u))||0;n-=parseFloat(i._getComputedStyle(j,"border"+u+"Width"))||0});return n}function l(b,e,j){var n=j;if(j===w&&q.test(e)){n=0;if(a.inArray(i.css(b,"position"),["absolute","fixed"])){j=b[e==="left"?"offsetLeft":"offsetTop"];if(m.ie===8||m.opera)j-=k(i.css(b.offsetParent,"border-"+e+"-width"))||
0;n=j-(k(i.css(b,"margin-"+e))||0)}}return n}var i=a.DOM,m=a.UA,h=document,f=h.documentElement,t="width",w="auto",k=parseInt,q=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,g=/-([a-z])/ig,o=function(b,e){return e.toUpperCase()},d={},c={};a.mix(i,{_CUSTOM_STYLES:d,_getComputedStyle:function(b,e){var j="",n=b.ownerDocument;if(b.style)j=n.defaultView.getComputedStyle(b,null)[e];return j},css:function(b,e,j){if(a.isPlainObject(e))for(var n in e)i.css(b,n,e[n]);else{if(e.indexOf("-")>
0)e=e.replace(g,o);e=d[e]||e;if(j===r){b=a.get(b);n="";if(b&&b.style){n=e.get?e.get(b):b.style[e];if(n===""&&!e.get)n=l(b,e,i._getComputedStyle(b,e))}return n===r?"":n}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&v.test(e))j+="px";(e===t||e==="height")&&parseFloat(j)<0||a.each(a.query(b),function(u){if(u&&u.style){e.set?e.set(u,j):u.style[e]=j;if(j==="")u.style.cssText||u.removeAttribute("style")}})}}},width:function(b,e){if(e===r)return s(b,t);else i.css(b,t,e)},height:function(b,
e){if(e===r)return s(b,"height");else i.css(b,"height",e)},show:function(b){a.query(b).each(function(e){if(e){e.style.display=i.data(e,"display")||"";if(i.css(e,"display")==="none"){var j=e.tagName,n=c[j],u;if(!n){u=h.createElement(j);h.body.appendChild(u);n=i.css(u,"display");i.remove(u);c[j]=n}i.data(e,"display",n);e.style.display=n}}})},hide:function(b){a.query(b).each(function(e){if(e){var j=e.style,n=j.display;if(n!=="none"){n&&i.data(e,"display",n);j.display="none"}}})},toggle:function(b){a.query(b).each(function(e){if(e)e.style.display===
"none"?i.show(e):i.hide(e)})},addStyleSheet:function(b,e){var j;if(e&&(e=e.replace("#","")))j=a.get("#"+e);if(!j){j=i.create("<style>",{id:e});a.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=b;else j.appendChild(h.createTextNode(b))}}});if(f.style.cssFloat!==r)d["float"]="cssFloat";else if(f.style.styleFloat!==r)d["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,r){if(a.UA.ie){var s=a.DOM,l=document,i=l.documentElement,m=s._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,f=/^-?\d/,t=/^(?:width|height)$/;try{if(i.style.opacity===r&&i.filters)m.opacity={get:function(k){var q=100;try{q=k.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(v){try{q=k.filters("alpha").opacity}catch(g){}}return q/100+""},set:function(k,q){var v=k.style,g=(k.currentStyle||0).filter||"";v.zoom=1;if(g)if(g=g.replace(/alpha\(opacity=.+\)/ig,""))g+=", ";
v.filter=g+"alpha(opacity="+q*100+")"}}}catch(w){}if(!(l.defaultView||{}).getComputedStyle&&i.currentStyle)s._getComputedStyle=function(k,q){var v=k.style,g=k.currentStyle[q];if(t.test(q))g=s[q](k)+"px";else if(!h.test(g)&&f.test(g)){var o=v.left,d=k.runtimeStyle.left;k.runtimeStyle.left=k.currentStyle.left;v.left=q==="fontSize"?"1em":g||0;g=v.pixelLeft+"px";v.left=o;k.runtimeStyle.left=d}return g}}});
KISSY.add("dom-offset",function(a,r){function s(j){var n=0,u=0,y=w(j[g]);if(j[e]){j=j[e]();n=j[o];u=j[d];if(i.mobile!=="apple"){n+=l[c](y);u+=l[b](y)}}return{left:n,top:u}}var l=a.DOM,i=a.UA,m=window,h=document,f=l._isElementNode,t=l._nodeTypeIs,w=l._getWin,k=h.compatMode==="CSS1Compat",q=Math.max,v=parseInt,g="ownerDocument",o="left",d="top",c="scrollLeft",b="scrollTop",e="getBoundingClientRect";a.mix(l,{offset:function(j,n){if(!(j=a.get(j))||!j[g])return null;if(n===r)return s(j);var u=j;if(l.css(u,
"position")==="static")u.style.position="relative";var y=s(u),p={},x,z;for(z in n){x=v(l.css(u,z),10)||0;p[z]=x+n[z]-y[z]}l.css(u,p)},scrollIntoView:function(j,n,u,y){if((j=a.get(j))&&j[g]){y=y===r?true:!!y;u=u===r?true:!!u;if(!n||n===m)return j.scrollIntoView(u);n=a.get(n);if(t(n,9))n=w(n);var p=n&&"scrollTo"in n&&n.document,x=l.offset(j),z=p?{left:l.scrollLeft(n),top:l.scrollTop(n)}:l.offset(n),A={left:x[o]-z[o],top:x[d]-z[d]};x=p?l.viewportHeight(n):n.clientHeight;z=p?l.viewportWidth(n):n.clientWidth;
var C=l[c](n),E=l[b](n),D=C+z,B=E+x,K=j.offsetHeight;j=j.offsetWidth;var J=A.left+C-(v(l.css(n,"borderLeftWidth"))||0);A=A.top+E-(v(l.css(n,"borderTopWidth"))||0);var G=J+j,F=A+K,H,I;if(K>x||A<E||u)H=A;else if(F>B)H=F-x;if(y)if(j>z||J<C||u)I=J;else if(G>D)I=G-z;if(p){if(H!==r||I!==r)n.scrollTo(I,H)}else{if(H!==r)n[b]=H;if(I!==r)n[c]=I}}}});a.each(["Left","Top"],function(j,n){var u="scroll"+j;l[u]=function(y){var p=0,x=w(y),z;if(x&&(z=x.document))p=x[n?"pageYOffset":"pageXOffset"]||z.documentElement[u]||
z.body[u];else if(f(y=a.get(y)))p=y[u];return p}});a.each(["Width","Height"],function(j){l["doc"+j]=function(n){n=n||h;return q(k?n.documentElement["scroll"+j]:n.body["scroll"+j],l["viewport"+j](n))};l["viewport"+j]=function(n){var u="inner"+j;n=w(n);var y=n.document;return u in n?n[u]:k?y.documentElement["client"+j]:y.body["client"+j]}})});
KISSY.add("dom-traversal",function(a,r){function s(h,f,t,w){if(!(h=a.get(h)))return null;if(f===r)f=1;var k=null,q,v;if(a.isNumber(f)&&f>=0){if(f===0)return h;q=0;v=f;f=function(){return++q===v}}for(;h=h[t];)if(m(h)&&(!f||i.test(h,f))&&(!w||w(h))){k=h;break}return k}function l(h,f,t){var w=[];var k=h=a.get(h);if(h&&t)k=h.parentNode;if(k){t=0;for(k=k.firstChild;k;k=k.nextSibling)if(m(k)&&k!==h&&(!f||i.test(k,f)))w[t++]=k}return w}var i=a.DOM,m=i._isElementNode;a.mix(i,{parent:function(h,f){return s(h,
f,"parentNode",function(t){return t.nodeType!=11})},next:function(h,f){return s(h,f,"nextSibling")},prev:function(h,f){return s(h,f,"previousSibling")},siblings:function(h,f){return l(h,f,true)},children:function(h,f){return l(h,f)},contains:function(h,f){var t=false;if((h=a.get(h))&&(f=a.get(f)))if(h.contains){if(f.nodeType===3){f=f.parentNode;if(f===h)return true}if(f)return h.contains(f)}else if(h.compareDocumentPosition)return!!(h.compareDocumentPosition(f)&16);else for(;!t&&(f=f.parentNode);)t=
f==h;return t}})});
KISSY.add("dom-create",function(a,r){function s(p){var x=p.cloneNode(true);if(f.ie<8)x.innerHTML=p.innerHTML;return x}function l(p,x,z,A){if(z){var C=a.guid("ks-tmp-"),E=RegExp(o);x+='<span id="'+C+'"></span>';a.available(C,function(){var D=a.get("head"),B,K,J,G,F,H;for(E.lastIndex=0;B=E.exec(x);)if((J=(K=B[1])?K.match(c):false)&&J[2]){B=m.createElement("script");B.src=J[2];if((G=K.match(b))&&G[2])B.charset=G[2];B.async=true;D.appendChild(B)}else if((H=B[2])&&H.length>0)a.globalEval(H);(F=m.getElementById(C))&&
h.remove(F);a.isFunction(A)&&A()});i(p,x)}else{i(p,x);a.isFunction(A)&&A()}}function i(p,x){x=(x+"").replace(o,"");try{p.innerHTML=x}catch(z){for(;p.firstChild;)p.removeChild(p.firstChild);x&&p.appendChild(h.create(x))}}var m=document,h=a.DOM,f=a.UA,t=f.ie,w=h._nodeTypeIs,k=h._isElementNode,q=h._isKSNode,v=m.createElement("div"),g=/<(\w+)/,o=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,d=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(h,{create:function(p,
x,z){if(w(p,1)||w(p,3))return s(p);if(q(p))return s(p[0]);if(!(p=a.trim(p)))return null;var A=null;A=h._creators;var C,E="div",D;if(C=d.exec(p))A=(z||m).createElement(C[1]);else{if((C=g.exec(p))&&(D=C[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;p=A[E](p,z).childNodes;if(p.length===1)z=p[0].parentNode.removeChild(p[0]);else{p=p;D=z||m;z=null;if(p&&(p.push||p.item)&&p[0]){D=D||p[0].ownerDocument;z=D.createDocumentFragment();if(p.item)p=a.makeArray(p);D=0;for(A=p.length;D<A;D++)z.appendChild(p[D])}z=
z}A=z}z=A;k(z)&&a.isPlainObject(x)&&h.attr(z,x,true);return z},_creators:{div:function(p,x){var z=x?x.createElement("div"):v;z.innerHTML=p;return z}},html:function(p,x,z,A){if(x===r){p=a.get(p);if(k(p))return p.innerHTML}else a.each(a.query(p),function(C){k(C)&&l(C,x,z,A)})},remove:function(p){a.each(a.query(p),function(x){k(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(t||f.gecko||f.webkit){var e=h._creators,j=h.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,u={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in u)(function(p){e[y]=function(x,z){return j("<"+p+">"+x+"</"+p+">",null,z)}})(u[y]);if(t){e.script=function(p,x){var z=x?x.createElement("div"):v;z.innerHTML="-"+p;z.removeChild(z.firstChild);return z};if(t<8)e.tbody=function(p,x){var z=j("<table>"+p+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!n.test(p)&&A.parentNode.removeChild(A);return z}}a.mix(e,{optgroup:e.option,th:e.td,thead:e.tbody,tfoot:e.tbody,
caption:e.tbody,colgroup:e.tbody})}});
KISSY.add("dom-insertion",function(a){var r=a.DOM;a.mix(r,{insertBefore:function(s,l){if((s=a.get(s))&&(l=a.get(l))&&l.parentNode)l.parentNode.insertBefore(s,l);return s},insertAfter:function(s,l){if((s=a.get(s))&&(l=a.get(l))&&l.parentNode)l.nextSibling?l.parentNode.insertBefore(s,l.nextSibling):l.parentNode.appendChild(s);return s},append:function(s,l){if((s=a.get(s))&&(l=a.get(l)))l.appendChild&&l.appendChild(s)},prepend:function(s,l){if((s=a.get(s))&&(l=a.get(l)))l.firstChild?r.insertBefore(s,
l.firstChild):l.appendChild(s)}})});
KISSY.add("event",function(a,r){function s(o,d,c,b,e){if(a.isString(d))d=a.query(d);if(a.isArray(d)){a.each(d,function(n){g[o](n,c,b,e)});return true}if((c=a.trim(c))&&c.indexOf(k)>0){a.each(c.split(k),function(n){g[o](d,n,b,e)});return true}if(d.getDOMNodes){for(var j=0;j<d.length;j++)g[o](d.item(j),c,b,e);return true}}function l(o,d){i(o)&&h.data(o,w,d)}function i(o){return o&&o.nodeType!==3&&o.nodeType!==8}var m=document,h=a.DOM,f=m.addEventListener?function(o,d,c,b){o.addEventListener&&o.addEventListener(d,
c,!!b)}:function(o,d,c){o.attachEvent&&o.attachEvent("on"+d,c)},t=m.removeEventListener?function(o,d,c,b){o.removeEventListener&&o.removeEventListener(d,c,!!b)}:function(o,d,c){o.detachEvent&&o.detachEvent("on"+d,c)},w="ksEventTargetId",k=" ",q=a.now(),v={},g={EVENT_GUID:w,special:{},add:function(o,d,c,b){if(!s("add",o,d,c,b)){var e=i(o)?h.data(o,w):-1,j,n,u,y,p;if(!(e===-1||!d||!a.isFunction(c))){if(!e){l(o,e=q++);v[e]={target:o,events:{}}}n=v[e].events;if(!n[d]){j=((e=!o.isCustomEventTarget)||o._supportSpecialEvent)&&
g.special[d]||{};u=function(x,z){if(!x||!x.fixed)x=new a.EventObject(o,x,d);a.isPlainObject(z)&&a.mix(x,z);j.setup&&j.setup(x);return(j.handle||g._handle)(o,x,n[d].listeners)};n[d]={handle:u,listeners:[]};y=j.fix||d;p=j.capture;if(e)f(o,y,u,p);else o._addEvent&&o._addEvent(y,u,p)}n[d].listeners.push({fn:c,scope:b||o})}}},remove:function(o,d,c,b){if(!s("remove",o,d,c,b)){var e=i(o)?h.data(o,w):-1,j,n,u,y,p,x,z;if(e!==-1)if(e&&(j=v[e]))if(j.target===o){b=b||o;j=j.events||{};if(n=j[d]){u=n.listeners;
x=u.length;if(a.isFunction(c)&&x){p=y=0;for(z=[];y<x;++y)if(c!==u[y].fn||b!==u[y].scope)z[p++]=u[y];n.listeners=z;x=z.length}if(c===r||x===0){if(o.isCustomEventTarget)o._removeEvent&&o._removeEvent(d,n.handle);else{c=g.special[d]||{};t(o,c.fix||d,n.handle)}delete j[d]}}if(d===r||a.isEmptyObject(j)){for(d in j)g.remove(o,d);delete v[e];h.removeData(o,w)}}}},_handle:function(o,d,c){c=c.slice(0);var b;o=0;for(var e=c.length;o<e;++o){b=c[o];b=b.fn.call(b.scope,d);if(b!==r){d.result=b;b===false&&d.halt()}if(d.isImmediatePropagationStopped)break}return b},
_getCache:function(o){return v[o]},_simpleAdd:f,_simpleRemove:t};g.on=g.add;a.Event=g});
KISSY.add("event-object",function(a,r){function s(m,h,f){this.currentTarget=m;this.originalEvent=h||{};if(h){this.type=h.type;this._fix()}else{this.type=f;this.target=m}if(m.isCustomEventTarget)if(a.DOM._isKSNode(m))this.target=new a.Node(this.target);this.currentTarget=m;this.fixed=true}var l=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");a.augment(s,
{_fix:function(){var m=this.originalEvent,h=i.length,f,t=this.currentTarget;for(t=t.nodeType===9?t:t.ownerDocument||l;h;){f=i[--h];this[f]=m[f]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){m=t.documentElement;h=t.body;this.pageX=this.clientX+(m&&m.scrollLeft||h&&h.scrollLeft||
0)-(m&&m.clientLeft||h&&h.clientLeft||0);this.pageY=this.clientY+(m&&m.scrollTop||h&&h.scrollTop||0)-(m&&m.clientTop||h&&h.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var m=this.originalEvent;if(m.preventDefault)m.preventDefault();else m.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var m=
this.originalEvent;if(m.stopPropagation)m.stopPropagation();else m.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var m=this.originalEvent;m.stopImmediatePropagation?m.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(m){m?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=s});
KISSY.add("event-target",function(a,r){var s=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(l,i){var m=a.DOM.data(this,s.EVENT_GUID)||-1;if((m=((s._getCache(m)||{}).events||{})[l])&&a.isFunction(m.handle))return m.handle(r,i);return this},on:function(l,i,m){s.add(this,l,i,m);return this},detach:function(l,i,m){s.remove(this,l,i,m);return this}}});
KISSY.add("event-mouseenter",function(a){var r=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){r.special[s.name]={fix:s.fix,setup:function(l){l.type=s.name},handle:function(l,i,m){if(a.DOM._isKSNode(l))l=l[0];var h=i.relatedTarget;try{for(;h&&h!==l;)h=h.parentNode;h!==l&&r._handle(l,i,m)}catch(f){}}}})});
KISSY.add("event-focusin",function(a){var r=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){r.special[s.name]={fix:s.fix,capture:true,setup:function(l){l.type=s.name}}})});
KISSY.add("node",function(a){function r(l,i,m){if(!(this instanceof r))return new r(l,i,m);if(l){if(a.isString(l)){l=s.create(l,i,m);if(l.nodeType===11)return new a.NodeList(l.childNodes)}else if(l instanceof r)return l;else l=l;this[0]=l}else this.length=0}var s=a.DOM;r.TYPE="-ks-Node";a.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});a.one=function(l,i){var m=a.get(l,i);return m?new r(m):null};a.Node=r});
KISSY.add("nodelist",function(a){function r(i){if(!(this instanceof r))return new r(i);s.push.apply(this,a.makeArray(i)||[])}var s=Array.prototype,l=a.DOM._isElementNode;a.mix(r.prototype,{length:0,item:function(i){var m=null,h,f;if(l(i)){h=0;for(f=this.length;h<f;h++)if(i===this[h]){i=h;break}}if(l(this[i]))m=new a.Node(this[i]);return m},getDOMNodes:function(){return s.slice.call(this)},each:function(i,m){var h=this.length,f=0,t;for(t=new a.Node(this[0]);f<h&&i.call(m||t,t,f,this)!==false;t=new a.Node(this[++f]));
return this}});a.all=function(i,m){return new r(a.query(i,m,true))};a.NodeList=r});
KISSY.add("node-attach",function(a,r){function s(b,e,j,n){b=[this[b?g:v]()].concat(a.makeArray(e));if(e[j]===r)return n.apply(h,b);else{n.apply(h,b);return this}}function l(b,e){a.each(b,function(j){a.each([k,q],function(n,u){n[j]=function(y){switch(e){case o:return function(){return s.call(this,u,arguments,1,y)};case d:return function(){return s.call(this,u,arguments,0,y)};case c:return function(){var p=this[u?g:v]();return(p=y.apply(h,[p].concat(a.makeArray(arguments))))?new (a[a.isArray(p)?"NodeList":
"Node"])(p):null};default:return function(){var p=this[u?g:v]();p=y.apply(h,[p].concat(a.makeArray(arguments)));return p===r?this:p}}}(h[j])})})}function i(b,e,j){b&&a.each(this,function(n){var u;if(e||a.isString(b))u=h.create(b);else{if(t(b,1)||t(b,3))u=b;if(w(b))u=b[0]}h[j](u,n)});return this}function m(b,e){if((b=a.get(b))&&b.appendChild)a.each(this,function(j){h[e](j,b)});return this}var h=a.DOM,f=a.Event,t=h._nodeTypeIs,w=h._isKSNode,k=a.Node.prototype,q=a.NodeList.prototype,v="getDOMNode",g=
v+"s",o=1,d=2,c=4;a.mix(k,{one:function(b){return a.one(b,this[0])},all:function(b){return a.all(b,this[0])}});l(["data","removeData"],o);l(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);l(["attr","removeAttr"],o);l(["val","text"],d);l(["css"],o);l(["width","height"],d);l(["offset"],d);l(["scrollIntoView"]);l(["parent","next","prev","siblings","children"],c);l(["contains"]);l(["html"],d);l(["remove"]);a.each(["insertBefore","insertAfter"],function(b){k[b]=function(e){h[b].call(h,
this[0],e);return this}});a.each([k,q],function(b,e){a.each(["append","prepend"],function(j){b[j]=function(n){return i.call(this,n,e,j)};b[j+"To"]=function(n){return m.call(this,n,j)}})});a.mix(k,a.EventTarget);k._supportSpecialEvent=true;k._addEvent=function(b,e,j){f._simpleAdd(this[0],b,e,j)};k._removeEvent=function(b,e,j){f._simpleRemove(this[0],b,e,j)};delete k.fire;a.mix(q,a.EventTarget);delete q.fire});if(!this.JSON)this.JSON={};
(function(){function a(w){return w<10?"0"+w:w}function r(w){i.lastIndex=0;return i.test(w)?'"'+w.replace(i,function(k){var q=f[k];return typeof q==="string"?q:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function s(w,k){var q,v,g,o,d=m,c,b=k[w];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(w);if(typeof t==="function")b=t.call(k,w,b);switch(typeof b){case "string":return r(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";m+=h;c=[];if(Object.prototype.toString.apply(b)==="[object Array]"){o=b.length;for(q=0;q<o;q+=1)c[q]=s(q,b)||"null";g=c.length===0?"[]":m?"[\n"+m+c.join(",\n"+m)+"\n"+d+"]":"["+c.join(",")+"]";m=d;return g}if(t&&typeof t==="object"){o=t.length;for(q=0;q<o;q+=1){v=t[q];if(typeof v==="string")if(g=s(v,b))c.push(r(v)+(m?": ":":")+g)}}else for(v in b)if(Object.hasOwnProperty.call(b,v))if(g=s(v,b))c.push(r(v)+(m?": ":":")+g);g=c.length===0?"{}":m?"{\n"+m+c.join(",\n"+m)+
"\n"+d+"}":"{"+c.join(",")+"}";m=d;return g}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,h,f={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof JSON.stringify!=="function")JSON.stringify=function(w,k,q){var v;h=m="";if(typeof q==="number")for(v=0;v<q;v+=1)h+=" ";else if(typeof q==="string")h=q;if((t=k)&&typeof k!=="function"&&(typeof k!=="object"||typeof k.length!=="number"))throw Error("JSON.stringify");return s("",{"":w})};
if(typeof JSON.parse!=="function")JSON.parse=function(w,k){function q(g,o){var d,c,b=g[o];if(b&&typeof b==="object")for(d in b)if(Object.hasOwnProperty.call(b,d)){c=q(b,d);if(c!==undefined)b[d]=c;else delete b[d]}return k.call(g,o,b)}var v;w=String(w);l.lastIndex=0;if(l.test(w))w=w.replace(l,function(g){return"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+w+")");return typeof k==="function"?q({"":v},""):v}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var r=window.JSON;a.JSON={parse:function(s){if(s==null||s==="")return null;return r.parse(s)},stringify:r.stringify}});
KISSY.add("ajax",function(a,r){function s(p){p=a.merge(y,p);if(p.url){if(p.data&&!a.isString(p.data))p.data=a.param(p.data);p.context=p.context||p;var x,z=b,A,C=p.type.toUpperCase();if(p.dataType===q){x=p.jsonpCallback||q+a.now();p.url=p.url+(p.url.indexOf("?")===-1?"?":"&")+(p.jsonp+"="+x);p.dataType=v;var E=m[x];m[x]=function(G){if(a.isFunction(E))E(G);else{m[x]=r;try{delete m[x]}catch(F){}}l([b,e],G,z,B,p)}}if(p.data&&C===f)p.url=p.url+(p.url.indexOf("?")===-1?"?":"&")+p.data;if(p.dataType===v){i(o,
p);C=a.getScript(p.url,x?null:function(){l([b,e],g,z,B,p)});i(d,p);return C}var D=false,B=p.xhr();i(o,p);B.open(C,p.url,p.async);try{if(p.data||p.contentType)B.setRequestHeader(w,p.contentType);B.setRequestHeader("Accept",p.dataType&&p.accepts[p.dataType]?p.accepts[p.dataType]+", */*; q=0.01":p.accepts._default)}catch(K){}B.onreadystatechange=function(G){if(!B||B.readyState===0||G==="abort"){D||l(e,null,j,B,p);D=true;if(B)B.onreadystatechange=h}else if(!D&&B&&(B.readyState===4||G===n)){D=true;B.onreadystatechange=
h;var F;if(G===n)F=n;else{a:{try{F=B.status>=200&&B.status<300||B.status===304||B.status===1223;break a}catch(H){}F=false}F=F?b:j}z=F;try{F=B;var I=p.dataType,M=g,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(w)||g;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===u)throw u;}if(a.isString(L))if(I===k||!I&&M.indexOf(k)>=0)L=a.JSON.parse(L);A=L}catch(O){z=u}l([z===b?b:j,e],A,z,B,p);if(G===n){B.abort();i(c,p)}if(p.async)B=null}};i(d,p);try{B.send(C===
t?p.data:null)}catch(J){l([j,e],A,j,B,p)}p.async||i(e,p);return B}}function l(p,x,z,A,C){if(a.isArray(p))a.each(p,function(E){l(E,x,z,A,C)});else{z===p&&C[p]&&C[p].call(C.context,x,z,A);i(p,C)}}function i(p,x){s.fire(p,{ajaxConfig:x})}var m=window,h=function(){},f="GET",t="POST",w="Content-Type",k="json",q=k+"p",v="script",g="",o="start",d="send",c="stop",b="success",e="complete",j="error",n="timeout",u="parsererror",y={type:f,url:g,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:m.ActiveXObject?function(){if(m.XmlHttpRequest)try{return new m.XMLHttpRequest}catch(p){}try{return new m.ActiveXObject("Microsoft.XMLHTTP")}catch(x){}}:function(){return new m.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(s,a.EventTarget);a.mix(s,{get:function(p,x,z,A,C){if(a.isFunction(x)){A=z;z=x}return s({type:C||f,
url:p,data:x,success:function(E,D,B){z&&z.call(this,E,D,B)},dataType:A})},post:function(p,x,z,A){if(a.isFunction(x)){A=z;z=x;x=r}return s.get(p,x,z,A,t)},jsonp:function(p,x,z){if(a.isFunction(x)){z=x;x=null}return s.get(p,x,z,q)}});s.getScript=a.getScript;a.io=a.ajax=s.ajax=s;a.jsonp=s.jsonp;a.IO=s});
KISSY.add("anim-easing",function(a){var r=Math,s=r.PI,l=r.pow,i=r.sin,m=1.70158,h={easeNone:function(f){return f},easeIn:function(f){return f*f},easeOut:function(f){return(2-f)*f},easeBoth:function(f){return(f*=2)<1?0.5*f*f:0.5*(1- --f*(f-2))},easeInStrong:function(f){return f*f*f*f},easeOutStrong:function(f){return 1- --f*f*f*f},easeBothStrong:function(f){return(f*=2)<1?0.5*f*f*f*f:0.5*(2-(f-=2)*f*f*f)},elasticIn:function(f){if(f===0||f===1)return f;return-(l(2,10*(f-=1))*i((f-0.075)*2*s/0.3))},
elasticOut:function(f){if(f===0||f===1)return f;return l(2,-10*f)*i((f-0.075)*2*s/0.3)+1},elasticBoth:function(f){if(f===0||(f*=2)===2)return f;if(f<1)return-0.5*l(2,10*(f-=1))*i((f-0.1125)*2*s/0.45);return l(2,-10*(f-=1))*i((f-0.1125)*2*s/0.45)*0.5+1},backIn:function(f){if(f===1)f-=0.0010;return f*f*((m+1)*f-m)},backOut:function(f){return(f-=1)*f*((m+1)*f+m)+1},backBoth:function(f){if((f*=2)<1)return 0.5*f*f*(((m*=1.525)+1)*f-m);return 0.5*((f-=2)*f*(((m*=1.525)+1)*f+m)+2)},bounceIn:function(f){return 1-
h.bounceOut(1-f)},bounceOut:function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+0.75:f<2.5/2.75?7.5625*(f-=2.25/2.75)*f+0.9375:7.5625*(f-=2.625/2.75)*f+0.984375},bounceBoth:function(f){if(f<0.5)return h.bounceIn(f*2)*0.5;return h.bounceOut(f*2-1)*0.5+0.5}};h.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=h});
KISSY.add("anim",function(a,r){function s(c,b,e,j,n,u){if(c=a.get(c)){if(!(this instanceof s))return new s(c,b,e,j,n,u);var y=a.isPlainObject(e);b=b;this.domEl=c;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var p={},x=v.length,z;q.innerHTML='<div style="'+b+'"></div>';for(c=q.firstChild.style;x--;)if(z=c[v[x]])p[v[x]]=m(z);this.props=p;this.targetStyle=b;if(y)y=a.merge(d,e);else{y=a.clone(d);if(e)y.duration=k(e)||1;if(a.isString(j)||
a.isFunction(j))y.easing=j;if(a.isFunction(n))y.complete=n;if(u!==r)y.nativeSupport=u}this.config=y;if(y.nativeSupport&&l()&&a.isString(j=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=w.NativeTimeFunction[j])){y.easing=j;this.transitionName=l()}a.isFunction(n)&&this.on(o,n)}}function l(){var c="transition",b;if(q.style[c]!==r)b=c;else a.each(["Webkit","Moz","O"],function(e){if(q.style[c=e+"Transition"]!==r){b=c;return false}});l=function(){return b};return b}function i(c,b,e){a.UA.ie&&e.indexOf(g)>
-1&&t.css(c,g,b[g].v);c.style.cssText+=";"+e}function m(c){var b=k(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:c,u:"",f:f}:{v:b,u:c,f:h}}function h(c,b,e){return(c+(b-c)*e).toFixed(3)}function f(c,b,e){for(var j=2,n,u,y=[],p=[];n=3,u=arguments[j-1],j--;)if(u.substr(0,4)==="rgb(")for(u=u.match(/\d+/g);n--;)y.push(~~u[n]);else if(u.substr(0,1)==="#"){if(u.length===4)u="#"+u.substr(1,1)+u.substr(1,1)+u.substr(2,1)+u.substr(2,1)+u.substr(3,1)+u.substr(3,1);for(;n--;)y.push(parseInt(u.substr(1+
n*2,2),16))}else return b;for(;n--;){j=~~(y[n+3]+(y[n]-y[n+3])*e);p.push(j<0?0:j>255?255:j)}return"rgb("+p.join(",")+")"}var t=a.DOM,w=a.Easing,k=parseFloat,q=t.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
g="opacity",o="complete",d={duration:1,easing:"easeNone",nativeSupport:true};a.augment(s,a.EventTarget,{run:function(){var c=this,b=c.config,e=c.domEl,j,n,u,y,p=c.props,x={},z;for(z in p)x[z]=m(t.css(e,z));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{j=b.duration*1E3;u=a.now();y=u+j;n=b.easing;if(a.isString(n))n=w[n]||w.easeNone;c.timer=a.later(b=function(){var A=a.now(),C=A>y?1:(A-u)/j,E,D,B;for(z in p){E=x[z];D=p[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;t.css(e,z,
D.f(E.v,D.v,n(C))+D.u)}if(c.fire("step")===false||(B=A>y)){c.stop();B&&c.fire(o)}},13,true);b()}return c}},_nativeRun:function(){var c=this,b=c.config,e=c.domEl,j=c.props,n=b.duration*1E3;b=b.easing;var u=c.transitionName,y={};y[u+"Property"]="all";y[u+"Duration"]=n+"ms";y[u+"TimingFunction"]=b;t.css(e,y);a.later(function(){i(e,j,c.targetStyle)},0);a.later(function(){c.stop(true)},n)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=r}if(c){i(this.domEl,
this.props,this.targetStyle);this.fire(o)}}return this},_nativeStop:function(c){var b=this.domEl,e=this.transitionName,j=this.props,n;if(c){t.css(b,e+"Property","none");this.fire(o)}else{for(n in j)t.css(b,n,t._getComputedStyle(b,n));t.css(b,e+"Property","none")}}});s.supportTransition=function(){return!!l()};a.Anim=s});
KISSY.add("anim-node-plugin",function(a,r){function s(g,o,d,c,b){if(o==="toggle"){b=l.css(g,m)===h?1:0;o="show"}if(b)l.css(g,m,l.data(g,m)||"");var e={},j={};a.each(v[o],function(n){if(n===f){e[f]=l.css(g,f);l.css(g,f,t)}else if(n===w){e[w]=l.css(g,w);j.opacity=b?1:0;b&&l.css(g,w,0)}else if(n===k){e[k]=l.css(g,k);j.height=b?l.css(g,k)||g.naturalHeight:0;b&&l.css(g,k,0)}else if(n===q){e[q]=l.css(g,q);j.width=b?l.css(g,q)||g.naturalWidth:0;b&&l.css(g,q,0)}});(new a.Anim(g,j,d,"easeOut",function(){if(!b){var n=
g.style,u=n[m];if(u!==h){u&&l.data(g,m,u);n[m]=h}e[k]&&l.css(g,{height:e[k]});e[q]&&l.css(g,{height:e[q]});e[w]&&l.css(g,{height:e[w]});e[f]&&l.css(g,{height:e[f]})}c&&a.isFunction(c)&&c()})).run()}var l=a.DOM,i=a.Anim,m="display",h="none",f="overflow",t="hidden",w="opacity",k="height",q="width",v={show:[f,w,k,q],fade:[w],slide:[f,k]};a.each([a.Node.prototype,a.NodeList.prototype],function(g){g.animate=function(){var o=a.makeArray(arguments);a.each(this,function(d){i.apply(r,[d].concat(o)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(o,d){g[d]=function(c,b){l[d]&&arguments.length===0?l[d](this):a.each(this,function(e){s(e,o[0],c,b,o[1])});return this}})})});
KISSY.add("cookie",function(a){var r=document,s=encodeURIComponent,l=decodeURIComponent;a.Cookie={get:function(i){var m;if(a.isString(i)&&i!=="")if(i=r.cookie.match("(?:^| )"+i+"(?:(?:=([^;]*))|;|$)"))m=i[1]?l(i[1]):"";return m},set:function(i,m,h,f,t,w){m=s(m);var k=h;if(typeof k==="number"){k=new Date;k.setTime(k.getTime()+h*864E5)}if(k instanceof Date)m+="; expires="+k.toUTCString();if(a.isString(f)&&f!=="")m+="; domain="+f;if(a.isString(t)&&t!=="")m+="; path="+t;if(w)m+="; secure";r.cookie=i+
"="+m},remove:function(i,m,h,f){this.set(i,"",0,m,h,f)}}});
KISSY.add("attribute",function(a,r){function s(){this.__attrs={};this.__attrVals={}}function l(i){i+="";return i.charAt(0).toUpperCase()+i.substring(1)}a.augment(s,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(i,m){this.__attrs[i]=a.clone(m||{});return this},hasAttr:function(i){return i&&i in(this.__attrs||{})},removeAttr:function(i){if(this.hasAttr(i)){delete this.__attrs[i];delete this.__attrVals[i]}return this},set:function(i,m){var h=this.get(i);if(h!==m)if(false!==
this.__fireAttrChange("before",i,h,m)){this.__set(i,m);this.__fireAttrChange("after",i,h,this.__attrVals[i]);return this}},__fireAttrChange:function(i,m,h,f){return this.fire(i+l(m)+"Change",{attrName:m,prevVal:h,newVal:f})},__set:function(i,m){var h,f=this.__attrs[i];if(f=f&&f.setter)h=f.call(this,m);if(h!==r)m=h;this.__attrVals[i]=m},get:function(i){var m;m=(m=this.__attrs[i])&&m.getter;i=i in this.__attrVals?this.__attrVals[i]:this.__getDefAttrVal(i);if(m)i=m.call(this,i);return i},__getDefAttrVal:function(i){i=
this.__attrs[i];var m;if(i){if(m=i.valueFn){m=m.call(this);if(m!==r)i.value=m;delete i.valueFn}return i.value}},reset:function(i){if(this.hasAttr(i))return this.set(i,this.__getDefAttrVal(i));for(i in this.__attrs)this.hasAttr(i)&&this.reset(i);return this}});a.Attribute=s;s.__capitalFirst=l});
KISSY.add("base",function(a){function r(s){a.Attribute.call(this);for(var l=this.constructor;l;){var i=l.ATTRS;if(i){var m=void 0;for(m in i)i.hasOwnProperty(m)&&!this.hasAttr(m)&&this.addAttr(m,i[m])}l=l.superclass?l.superclass.constructor:null}if(s)for(var h in s)s.hasOwnProperty(h)&&this.__set(h,s[h])}a.augment(r,a.EventTarget,a.Attribute);a.Base=r});
